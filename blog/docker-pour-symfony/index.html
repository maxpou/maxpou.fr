<!DOCTYPE html><html lang="fr"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Astro v5.16.5"><!-- SEO Meta Tags --><meta name="language" content="en"><meta name="geo.region" content="FR"><meta name="geo.placename" content="France"><meta name="author" content="Maxence Poutord"><meta name="robots" content="index, follow"><meta name="googlebot" content="index, follow"><!-- Font preloads --><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Lato:400,700&display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700&display=swap" media="print"><!-- Canonical URL --><link rel="canonical" href="https://www.maxpou.fr/blog/docker-pour-symfony/"><!-- Primary Meta Tags --><title>Une stack Docker pour votre application Symfony</title><meta name="title" content="Une stack Docker pour votre application Symfony"><meta name="description" content="A blog post written by Maxence Poutord"><script defer data-domain="maxpou.fr" src="https://plausible.io/js/plausible.js"></script><link rel="alternate" type="application/rss+xml" title="Maxence Poutord • Maxpou Blog" href="/rss.xml"><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"><!-- Open Graph / Facebook --><meta property="og:type" content="article"><meta property="og:url" content="https://www.maxpou.fr/blog/docker-pour-symfony/"><meta property="og:title" content="Une stack Docker pour votre application Symfony"><meta property="og:description" content="A blog post written by Maxence Poutord"><meta property="og:site_name" content="Maxence Poutord"><meta property="og:locale" content="en_US"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:image" content="https://www.maxpou.fr/og/docker-pour-symfony.png"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://www.maxpou.fr/blog/docker-pour-symfony/"><meta property="twitter:title" content="Une stack Docker pour votre application Symfony"><meta property="twitter:description" content="A blog post written by Maxence Poutord"><meta name="twitter:creator" content="_maxpou"><meta property="twitter:image" content="https://www.maxpou.fr/og/docker-pour-symfony.png"><!-- Web App Manifest --><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#ffdc4e"><!-- DNS Prefetch --><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//plausible.io"><script>
  const theme = (() => {
    if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
      return localStorage.getItem('theme')
    }
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      return 'dark'
    }
    return 'light'
  })()

  if (theme === 'light') {
    document.documentElement.classList.remove('dark')
  } else {
    document.documentElement.classList.add('dark')
  }
  window.localStorage.setItem('theme', theme)
  typeof plausible !== 'undefined'
    && plausible('pageview', {props: {darkMode: theme !== 'light'}})
</script><style>code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.block-comment,.token.prolog,.token.doctype,.token.cdata{color:#999}.token.punctuation{color:#ccc}.token.tag,.token.attr-name,.token.namespace,.token.deleted{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.number,.token.function{color:#f08d49}.token.property,.token.class-name,.token.constant,.token.symbol{color:#f8c555}.token.selector,.token.important,.token.atrule,.token.keyword,.token.builtin{color:#cc99cd}.token.string,.token.char,.token.attr-value,.token.regex,.token.variable{color:#7ec699}.token.operator,.token.entity,.token.url{color:#67cdcc}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}.expressive-code{margin-top:1em}aside>p:first-child{margin-top:0}
</style>
<link rel="stylesheet" href="/_astro/_slug_.9WhXlbdT.css">
<style>footer[data-astro-cid-sz7xmlte]{padding:2em 1em 6em}a[data-astro-cid-eimmu3lg]{display:inline-block;text-decoration:none;border-bottom:4px solid transparent}a[data-astro-cid-eimmu3lg].active{font-weight:bolder;border-bottom-color:#ffdc4e}*{transition:background .5s ease}*::selection{background-color:#ffdc4e;color:#3e4047}
</style></head> <body class="bg-linear-to-b from-blue-50 to-[#f5f7f9] dark:bg-gray-600 dark:bg-linear-to-b dark:from-gray-600 dark:to-gray-600"> <header class="bg-white dark:bg-gray-600 px-4 h-16"> <nav class="dark:text-white h-16 flex items-center justify-between max-w-7xl w-full mx-auto"> <h1 class="text-lg dark:text-white font-bold"> <a href="/">Maxence Poutord</a> </h1> <div class="md:flex hidden"> <a href="/blog" class="py-4 mx-4 no-underline text-lg hover:text-blue-900 dark:text-white dark:hover:text-mainYellow" data-astro-cid-eimmu3lg> Blog </a>  <a href="/speaking" class="py-4 mx-4 no-underline text-lg hover:text-blue-900 dark:text-white dark:hover:text-mainYellow" data-astro-cid-eimmu3lg> Speaking </a>  <a href="/about" class="py-4 mx-4 no-underline text-lg hover:text-blue-900 dark:text-white dark:hover:text-mainYellow" data-astro-cid-eimmu3lg> About </a>  <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Ao5zg" component-url="/_astro/DarkModeButton.BoZY5z88.js" component-export="default" renderer-url="/_astro/client.B0_N0kx5.js" props="{&quot;className&quot;:[0,&quot;mb-1&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;DarkModeButton&quot;,&quot;value&quot;:&quot;preact&quot;}"></astro-island> </div> <button id="burger-button" aria-label="Toggle mobile menu" class="md:hidden block w-14 h-14 relative focus:outline-none rounded z-10"> <div class="block w-5 absolute left-6 top-1/2 transform -translate-x-1/2 -translate-y-1/2"> <span id="burger-line-1" class="block absolute h-0.5 w-7 text-white bg-gray-600 dark:bg-white transform transition-all duration-500 ease-in-out -top-2"></span> <span id="burger-line-2" class="block absolute h-0.5 w-7 text-white bg-gray-600 dark:bg-white transform transition-all duration-500 ease-in-out"></span> <span id="burger-line-3" class="block absolute h-0.5 w-7 text-white bg-gray-600 dark:bg-white transform transition-all duration-500 ease-in-out top-2"></span> </div> </button> </nav> <div id="menu-backdrop" class="hidden bg-gray-600 bg-opacity-95 absolute top-0 left-0 h-screen w-screen backdrop-opacity-90 items-center justify-center"> <ul class="text-white font-bold text-xl"> <li class="p-3"><a href="/">Home</a></li> <li class="p-3"><a href="/blog">Blog</a></li> <li class="p-3"><a href="/speaking">Speaking</a></li> <li class="p-3"><a href="/about">About</a></li> <li class="p-3"> <astro-island uid="ZgqLD2" component-url="/_astro/DarkModeButton.BoZY5z88.js" component-export="default" renderer-url="/_astro/client.B0_N0kx5.js" props="{&quot;textOnly&quot;:[0,true],&quot;className&quot;:[0,&quot;p-0!&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;DarkModeButton&quot;,&quot;value&quot;:&quot;preact&quot;}"></astro-island> </li> </ul> </div> </header> <script type="module">const n=document.getElementById("burger-button"),e=document.getElementById("burger-line-1"),r=document.getElementById("burger-line-2"),t=document.getElementById("burger-line-3"),o=document.getElementById("menu-backdrop");n.addEventListener("click",()=>{o.classList.contains("hidden")?(o.classList.add("flex"),o.classList.remove("hidden"),e.style.transform="rotate(45deg)",e.style.top="0",e.style.backgroundColor="white",r.style.backgroundColor="transparent",t.style.transform="rotate(-45deg)",t.style.top="0",t.style.backgroundColor="white"):(e.style.transform="rotate(0)",e.style.removeProperty("top"),e.style.removeProperty("background-color"),r.style.removeProperty("background-color"),t.style.removeProperty("background-color"),t.style.transform="rotate(0)",t.style.removeProperty("top"),o.classList.add("hidden"),o.classList.remove("flex"))});</script> <main class="m-0 mx-auto min-h-[70vh] w-full max-w-7xl px-4 py-12 text-gray-500 dark:text-gray-100">  <script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Une stack Docker pour votre application Symfony","author":{"@type":"Person","name":"Maxence Poutord","url":"https://www.maxpou.fr"},"publisher":{"@type":"Organization","name":"Maxence Poutord","logo":{"@type":"ImageObject","url":"https://www.maxpou.fr/android-chrome-192x192.png"}},"datePublished":"2016-04-11T00:00:00.000Z","dateModified":"2016-04-11T00:00:00.000Z","image":"https://www.maxpou.fr[object Object]","url":"https://www.maxpou.fr/blog/docker-pour-symfony/","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.maxpou.fr/blog/docker-pour-symfony/"},"keywords":"Symfony2, PHP","articleSection":"Blog"}</script> <article> <div class="hero-image"> <img src="/_astro/bg-intro.acqrYmz2_Z2DKeC.webp" alt="Cover for Une stack Docker pour votre application Symfony" loading="lazy" decoding="async" fetchpriority="auto" width="1020" height="500" class="rounded-xl shadow-xl mx-auto h-[500px] object-cover w-full"> </div> <div class="container m-auto text-center"> <div class="mt-3 text-blueGreyed dark:text-gray-300"> <time datetime="2016-04-11T00:00:00.000Z"> 11 April 2016 </time>  </div> <h1 class="font-bold text-3xl dark:text-white text-center leading-none py-4 mb-2 "> Une stack Docker pour votre application Symfony </h1> <div class="pb-6"> <a href="/tags/Symfony2" class="mr-2 inline-block rounded-lg bg-darkBlue px-3 py-2 text-sm text-white no-underline hover:bg-blueGreyed dark:bg-blueGreyed dark:hover:bg-darkBlue shadow-md hover:shadow-xl"> Symfony2 </a><a href="/tags/PHP" class="mr-2 inline-block rounded-lg bg-darkBlue px-3 py-2 text-sm text-white no-underline hover:bg-blueGreyed dark:bg-blueGreyed dark:hover:bg-darkBlue shadow-md hover:shadow-xl"> PHP </a>  </div> </div> <div class="m-auto w-[720px] max-w-full">  <div class="prose
  max-w-none
  dark:prose-invert
  prose-headings:underline
  prose-h2:text-2xl prose-h2:font-bold prose-h2:dark:text-mainYellow
  prose-h3:text-xl prose-h3:font-bold
  prose-p:mb-0
  prose-p:mt-4
  prose-a:underline-offset-4
  prose-a:decoration-2
  prose-a:text-gray-700 dark:prose-a:text-slate-100 hover:prose-a:text-slate-900
  prose-a:decoration-gray-300
  hover:prose-a:decoration-blue-700 dark:hover:prose-a:decoration-mainYellow
  prose-img:rounded-xl">  <blockquote>
<p>[05/07/2016] : màj du docker-compose (suppression conteneur code+alias) + màj schéma + ajout
PHPMyAdmin + simplification toolbox.<br>
Un grand merci à tous ceux qui m’ont fait des retours ♥</p>
</blockquote>
<p>TL;DR : <a href="https://github.com/maxpou/docker-symfony">Répo Github du projet</a></p>
<h1 id="une-stack-docker-pour-votre-application-symfony">Une stack Docker pour votre application Symfony</h1>
<p>Je développe des applications web depuis quelques temps sur une stack
<a href="https://github.com/maxpou/scotch-box">Vagrant que j’ai un peu pimpé</a>. Bosser sur une VM est
vraiment plus agréable/malléable qu’un WAMP. Cependant, cette solution si miraculeuse soit-elle a
aussi ses inconvénients.</p>
<p>Tout d’abord, le temps d’initialisation de la box est particulièrement long. Deuxième argument, si
on se plante on est obligé de tout réinstaller (<em>ex:</em> récemment j’ai oublié de mettre un point avant
le slash de cette commande… <code>sudo rm -rf /</code>). Et enfin, si on souhaite instancier plusieurs
machines sur une seule, le PC hôte se retrouve rapidement sur les rotules.</p>
<p><img alt="one ship with carrying multiples ships" loading="lazy" decoding="async" fetchpriority="auto" width="580" height="384" src="/_astro/multishipsonship.rzYDiYQs_2hdXgj.webp" ></p>
<p>Ce sont donc ces trois points qui m’ont motivé à migrer mon poste de dev sur Docker (et puis si
autant de monde en parle, c’est sans doutes que ça vaut le détour !).</p>
<p>Je vais volontairement passer sous silence l’étape de présentation de Docker. Il y a plein
d’articles/conférences à ce sujet sur la toile. Voici une conférence que j’ai bien aimé à ce sujet :
<a href="https://www.youtube.com/watch?v=CUVBNrqFRHk">Docker de “Zéro” à “Héros”</a> par l’excellent Nicolas DE
LOOF (qui anime aussi la web série
<a href="https://www.youtube.com/channel/UCOAhkxpryr_BKybt9wIw-NQ">Quoi d’neuf Docker ?</a>).</p>
<h2 id="un-conteneur-pour-les-gouverner-tous">Un conteneur pour les gouverner tous ?</h2>
<p>Lors de mes premières expériences avec Docker, j’étais parti sur un méga-conteneur qui portait PHP,
Apache, MySQL… tout ce qui est nécessaire pour faire tourner une application web. Et puis j’ai
vite lâché l’affaire car je ne voyais pas la plus-value de cet outil comparé à ma vagrant.
<img alt="one ship with carrying one ship" loading="lazy" decoding="async" fetchpriority="auto" width="1280" height="960" src="/_astro/shiponship.BSHElHAQ_jovLE.webp" > <em>(ma première expérience avec Docker)</em></p>
<h2 id="1-application-process--1-conteneur">1 application (process) = 1 conteneur</h2>
<p>A l’occasion du <a href="https://github.com/docker/docker-birthday-3">3e anniversaire de Docker</a>, j’ai
vraiment vu l’intérêt de cet outil. Sans doutes, parce que le TP était plus pertinent que bon nombre
d’articles sur la toile. Il faut donc lancer un process par conteneur. Le tout se fera avec
docker-compose, qui jouera le rôle de chef d’orchestre de tous mes conteneurs.</p>
<p>Voici l’objectif vers lequel je souhaite tendre :</p>
<p><img alt="schema" loading="lazy" decoding="async" fetchpriority="auto" width="1350" height="870" src="/_astro/schema-v2.BMZe8ZO__ZbTDen.webp" ></p>
<p>Détail des conteneurs :</p>
<ul>
<li>NGINX : le serveur web ;</li>
<li>PHP-FPM : le service qui exécutera le code PHP (PHP7 s’il vous plait !) ;</li>
<li>Application : un conteneur qui portera le code symfony ;</li>
<li>MySQL : Un SGBDR que l’on ne présente plus ;</li>
<li>Redis : Un SGBD clé-valeur avec lequel j’aime bien jouer en ce moment ;</li>
<li>ELK : Le trio de choc : Elasticsearch - Logstash - Kibana… parcequ’il y a mieux que les <code>| tail</code>
/ <code>| grep</code> pour visualiser ses logs !</li>
</ul>
<p><em>Nota : Je suis parti du
<a href="https://vincent.composieux.fr/article/faire-tourner-une-application-symfony-avec-docker-et-docker-compose">travail de Vincent COMPOSIEUX</a>
qui est plutôt propre pour ensuite l’adapter à mes besoins.</em></p>
<h2 id="solution">Solution</h2>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.h1n40.css"><script type="module" src="/_astro/ec.0vx5m.js"></script><figure class="frame has-title"><figcaption class="header"><span class="title">docker-compose.yml</span></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#F2858B">version</span><span style="--0:#89DDFF">:</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">'</span><span style="--0:#C3E88D">2</span><span style="--0:#89DDFF">'</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F2858B">services</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F2858B">db</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">image</span><span style="--0:#89DDFF">:</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">mysql</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">ports</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">3306:3306</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">volumes</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">'</span><span style="--0:#C3E88D">./.data/db:/var/lib/mysql</span><span style="--0:#89DDFF">'</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">environment</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#F2858B">MYSQL_ROOT_PASSWORD</span><span style="--0:#89DDFF">:</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">root</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F2858B">redis</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">image</span><span style="--0:#89DDFF">:</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">redis:alpine</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">ports</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">6379:6379</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F2858B">php</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">build</span><span style="--0:#89DDFF">:</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">php7-fpm</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">ports</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">9000:9000</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">links</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">db:mysqldb</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">redis</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">volumes</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">chemin/vers/votre/app/symfony:/var/www/symfony</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">./logs/symfony:/var/www/symfony/app/logs</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F2858B">nginx</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">build</span><span style="--0:#89DDFF">:</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">nginx</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">ports</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">80:80</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">links</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">php</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">volumes_from</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">php</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">volumes</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">./logs/nginx/:/var/log/nginx</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F2858B">elk</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">image</span><span style="--0:#89DDFF">:</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">willdurand/elk</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">ports</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">81:80</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">volumes</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">./elk/logstash:/etc/logstash</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">./elk/logstash/patterns:/opt/logstash/patterns</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#F2858B">volumes_from</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">php</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">nginx</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x27;2&#x27;services:  db:    image: mysql    ports:      - 3306:3306    volumes:      - &#x27;./.data/db:/var/lib/mysql&#x27;    environment:      MYSQL_ROOT_PASSWORD: root  redis:    image: redis:alpine    ports:      - 6379:6379  php:    build: php7-fpm    ports:      - 9000:9000    links:      - db:mysqldb      - redis    volumes:      - chemin/vers/votre/app/symfony:/var/www/symfony      - ./logs/symfony:/var/www/symfony/app/logs  nginx:    build: nginx    ports:      - 80:80    links:      - php    volumes_from:      - php    volumes:      - ./logs/nginx/:/var/log/nginx  elk:    image: willdurand/elk    ports:      - 81:80    volumes:      - ./elk/logstash:/etc/logstash      - ./elk/logstash/patterns:/opt/logstash/patterns    volumes_from:      - php      - nginx"><div></div></button></div></figure></div>
<p>La 22 et 23e ligne du fichier (<em>services.php.volumes</em>) indiquent qu’il y a un mapping de volumes. Il
vous faudra donc indiquer le chemin (absolu ou relatif) vers l’application Symfony. Le répertoire de
logs se construiera tout seul comme un grand.</p>
<p>2 composantes du docker-compose n’étant pas des images, il faut donc construire les Dockerfiles.</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># nginx/Dockerfile</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">FROM</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">debian:jessie</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">MAINTAINER</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">Maxence</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">POUTORD</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">&#x3C;maxence.poutord@gmail.com></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">RUN</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">apt-get</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">update</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">&#x26;&#x26;</span><span style="--0:#BABED8"> </span><span style="--0:#FFCB6B">apt-get</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">install</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-y</span><span style="--0:#BABED8"> \</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C3E88D">nginx</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">ADD</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">nginx.conf</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">/etc/nginx/</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">ADD</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">symfony.conf</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">/etc/nginx/sites-available/</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">RUN</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">ln</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-s</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">/etc/nginx/sites-available/symfony.conf</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">/etc/nginx/sites-enabled/symfony</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">RUN</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">rm</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">/etc/nginx/sites-enabled/default</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">RUN</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">echo</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">"</span><span style="--0:#C3E88D">upstream php-upstream { server php:9000; }</span><span style="--0:#89DDFF">"</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">></span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">/etc/nginx/conf.d/upstream.conf</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">RUN</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">usermod</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-u</span><span style="--0:#BABED8"> </span><span style="--0:#F78C6C">1000</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">www-data</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">CMD</span><span style="--0:#BABED8"> [</span><span style="--0:#89DDFF">"</span><span style="--0:#C3E88D">nginx</span><span style="--0:#89DDFF">"</span><span style="--0:#BABED8">]</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">EXPOSE</span><span style="--0:#BABED8"> </span><span style="--0:#F78C6C">80</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">EXPOSE</span><span style="--0:#BABED8"> </span><span style="--0:#F78C6C">443</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="FROM debian:jessieMAINTAINER Maxence POUTORD <maxence.poutord@gmail.com>RUN apt-get update &#x26;&#x26; apt-get install -y \    nginxADD nginx.conf /etc/nginx/ADD symfony.conf /etc/nginx/sites-available/RUN ln -s /etc/nginx/sites-available/symfony.conf /etc/nginx/sites-enabled/symfonyRUN rm /etc/nginx/sites-enabled/defaultRUN echo &#x22;upstream php-upstream { server php:9000; }&#x22; > /etc/nginx/conf.d/upstream.confRUN usermod -u 1000 www-dataCMD [&#x22;nginx&#x22;]EXPOSE 80EXPOSE 443"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># php7-fpm/Dockerfile</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">FROM</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">php:7.0-fpm</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">MAINTAINER</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">Maxence</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">POUTORD</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">&#x3C;maxence.poutord@gmail.com></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">RUN</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">apt-get</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">update</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">&#x26;&#x26;</span><span style="--0:#BABED8"> </span><span style="--0:#FFCB6B">apt-get</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">install</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-y</span><span style="--0:#BABED8"> \</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C3E88D">git</span><span style="--0:#BABED8"> \</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C3E88D">unzip</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># Install Composer</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">RUN</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">curl</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-sS</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">https://getcomposer.org/installer</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">|</span><span style="--0:#BABED8"> </span><span style="--0:#FFCB6B">php</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">--</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">--install-dir=/usr/local/bin</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">--filename=composer</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">RUN</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">composer</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">--version</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># Set timezone</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">RUN</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">rm</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">/etc/localtime</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">RUN</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">ln</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-s</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">/usr/share/zoneinfo/Europe/Paris</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">/etc/localtime</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">RUN</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">"</span><span style="--0:#C3E88D">date</span><span style="--0:#89DDFF">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># Type docker-php-ext-install to see available extensions</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">RUN</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">docker-php-ext-install</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">pdo</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">pdo_mysql</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">RUN</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">echo</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">'</span><span style="--0:#C3E88D">alias sf="php app/console"</span><span style="--0:#89DDFF">'</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">>></span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">~/.bashrc</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">WORKDIR</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">/var/www/symfony</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="FROM php:7.0-fpmMAINTAINER Maxence POUTORD <maxence.poutord@gmail.com>RUN apt-get update &#x26;&#x26; apt-get install -y \    git \    unzipRUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composerRUN composer --versionRUN rm /etc/localtimeRUN ln -s /usr/share/zoneinfo/Europe/Paris /etc/localtimeRUN &#x22;date&#x22;RUN docker-php-ext-install pdo pdo_mysqlRUN echo &#x27;alias sf=&#x22;php app/console&#x22;&#x27; >> ~/.bashrcWORKDIR /var/www/symfony"><div></div></button></div></figure></div>
<p>Il faut garder à l’esprit que les images se doivent d’être les plus petites possibles. Il ne faut
installer que ce qui est nécessaire (le apt-get clean est
<a href="https://github.com/docker/docker/blob/03e2923e42446dbb830c654d0eec323a0b4ef02a/contrib/mkimage/debootstrap#L82-L105">implicite sur les debian</a>).<br>
Une fois que tout est prêt, un petit <code>docker-compose build</code> permettra de construire les différentes
images. Et un <code>docker-compose up</code> lancera le tout.</p>
<p>Vous pouvez vérifier avec la commande docker-compose ps (tout doit-être à Up) :</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">$</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">docker-compose</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">ps</span></div></div><div class="ec-line"><div class="code"><span class="indent">           </span><span style="--0:#FFCB6B">Name</span><span style="--0:#BABED8">                          </span><span style="--0:#C3E88D">Command</span><span style="--0:#BABED8">               </span><span style="--0:#C3E88D">State</span><span style="--0:#BABED8">              </span><span style="--0:#C3E88D">Ports</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">--------------------------------------------------------------------------------------------------</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">dockersymfony_db_1</span><span style="--0:#BABED8">            </span><span style="--0:#C3E88D">/entrypoint.sh</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">mysqld</span><span style="--0:#BABED8">            </span><span style="--0:#C3E88D">Up</span><span style="--0:#BABED8">      </span><span style="--0:#C3E88D">0.0.0.0:3306</span><span style="--0:#BABED8">-</span><span style="--0:#89DDFF">></span><span style="--0:#C3E88D">3306/tcp</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">dockersymfony_elk_1</span><span style="--0:#BABED8">           </span><span style="--0:#C3E88D">/usr/bin/supervisord</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-n</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-c</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">...</span><span style="--0:#BABED8">   </span><span style="--0:#C3E88D">Up</span><span style="--0:#BABED8">      </span><span style="--0:#C3E88D">0.0.0.0:81</span><span style="--0:#BABED8">-</span><span style="--0:#89DDFF">></span><span style="--0:#C3E88D">80/tcp</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">dockersymfony_nginx_1</span><span style="--0:#BABED8">         </span><span style="--0:#C3E88D">nginx</span><span style="--0:#BABED8">                            </span><span style="--0:#C3E88D">Up</span><span style="--0:#BABED8">      </span><span style="--0:#C3E88D">443/tcp,</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">0.0.0.0:80</span><span style="--0:#BABED8">-</span><span style="--0:#89DDFF">></span><span style="--0:#C3E88D">80/tcp</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">dockersymfony_php_1</span><span style="--0:#BABED8">           </span><span style="--0:#C3E88D">php-fpm</span><span style="--0:#BABED8">                          </span><span style="--0:#C3E88D">Up</span><span style="--0:#BABED8">      </span><span style="--0:#C3E88D">0.0.0.0:9000</span><span style="--0:#BABED8">-</span><span style="--0:#89DDFF">></span><span style="--0:#C3E88D">9000/tcp</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">dockersymfony_redis_1</span><span style="--0:#BABED8">         </span><span style="--0:#C3E88D">/entrypoint.sh</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">redis-server</span><span style="--0:#BABED8">      </span><span style="--0:#C3E88D">Up</span><span style="--0:#BABED8">      </span><span style="--0:#C3E88D">0.0.0.0:6379</span><span style="--0:#BABED8">-</span><span style="--0:#89DDFF">></span><span style="--0:#C3E88D">6379/tcp</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="$ docker-compose ps           Name                          Command               State              Ports--------------------------------------------------------------------------------------------------dockersymfony_db_1            /entrypoint.sh mysqld            Up      0.0.0.0:3306->3306/tcpdockersymfony_elk_1           /usr/bin/supervisord -n -c ...   Up      0.0.0.0:81->80/tcpdockersymfony_nginx_1         nginx                            Up      443/tcp, 0.0.0.0:80->80/tcpdockersymfony_php_1           php-fpm                          Up      0.0.0.0:9000->9000/tcpdockersymfony_redis_1         /entrypoint.sh redis-server      Up      0.0.0.0:6379->6379/tcp"><div></div></button></div></figure></div>
<p>Maintenant, vous allez devoir retrouver l’IP associée au conteneur NGINX et modifier votre fichier
hosts :</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">$</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">docker</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">inspect</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">--format</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">'</span><span style="--0:#C3E88D">{{ .NetworkSettings.IPAddress }}</span><span style="--0:#89DDFF">'</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">$(</span><span style="--0:#FFCB6B">docker</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">ps</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-f</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">name=nginx</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-q</span><span style="--0:#89DDFF">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># unix seulement (sur Windows, modifier ce fichier C:\Windows\System32\drivers\etc\hosts)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">$</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">sudo</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">echo</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">"</span><span style="--0:#C3E88D">171.17.0.1 symfony.dev</span><span style="--0:#89DDFF">"</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">>></span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">/etc/hosts</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="$ docker inspect --format &#x27;{{ .NetworkSettings.IPAddress }}&#x27; $(docker ps -f name=nginx -q)$ sudo echo &#x22;171.17.0.1 symfony.dev&#x22; >> /etc/hosts"><div></div></button></div></figure></div>
<p>Vous devrez aussi modifier le fichier parameters.yml de votre application :</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">path/to/sfApp/app/config/parameters.yml</span></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#F2858B">parameters</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F2858B">redis_host</span><span style="--0:#89DDFF">:</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">redis</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F2858B">database_host</span><span style="--0:#89DDFF">:</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">mysqldb</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="parameters:  redis_host: redis  database_host: mysqldb"><div></div></button></div></figure></div>
<p>Et voilà !</p>
<p><img alt="et voila gif" loading="lazy" decoding="async" fetchpriority="auto" width="400" height="267" src="/_astro/etvoila.BBrMOWs7_1zjOiQ.webp" ></p>
<p>Accédez à votre application sur <a href="http://symfony.dev/">symfony.dev</a> pour voir votre application et
sur <a href="http://symfony.dev:81/">symfony.dev:81</a> pour consulter les logs avec Kibana.</p>
<p><strong>Le code source est sur mon répo GitHub</strong> : <a href="https://github.com/maxpou/docker-symfony">https://github.com/maxpou/docker-symfony</a></p>
<h2 id="et-je-veux-mon-phpmyadmin-moi">Et je veux mon PHPMyAdmin moi !</h2>
<p>C’est très simple, il suffit d’ajouter ceci à votre fichier docker-compose :</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#F2858B">phpmyadmin</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F2858B">image</span><span style="--0:#89DDFF">:</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">phpmyadmin/phpmyadmin</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F2858B">ports</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">'</span><span style="--0:#C3E88D">8080:80</span><span style="--0:#89DDFF">'</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#F2858B">links</span><span style="--0:#89DDFF">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#89DDFF">-</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">db</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="phpmyadmin:  image: phpmyadmin/phpmyadmin  ports:    - &#x27;8080:80&#x27;  links:    - db"><div></div></button></div></figure></div>
<p>Accédez ensuite à l’interface web via : <a href="http://symfony.dev:8080/">symfony.dev:8080</a></p>
<h2 id="boîte-à-outils">Boîte à outils</h2>
<p>Voici quelques commandes qui peuvent-être utiles :</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># Acceder en bash</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">$</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">docker-compose</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">exec</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">php</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">bash</span></div></div><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># Composer (ex : composer update)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">$</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">docker-compose</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">exec</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">php</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">composer</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">update</span></div></div><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># Commandes Symfony</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">$</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">docker-compose</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">exec</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">php</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">php</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">/var/www/symfony/app/console</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">cache:clear</span></div></div><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># Commandes Symfony bis (avec un alias = plus simple!)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">$</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">docker-compose</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">exec</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">php</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">bash</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">$</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">sf</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">cache:clear</span></div></div><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># Commandes MySQL</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">$</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">docker-compose</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">exec</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">db</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">mysql</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-uroot</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-p</span><span style="--0:#89DDFF">"</span><span style="--0:#C3E88D">root</span><span style="--0:#89DDFF">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># Commandes Redis</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">$</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">docker-compose</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">exec</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">redis</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">redis-cli</span></div></div><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># F***ing cache/logs ;)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">$</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">sudo</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">chmod</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-R</span><span style="--0:#BABED8"> </span><span style="--0:#F78C6C">777</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">symfony/app/cache</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">symfony/app/logs</span></div></div><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># Vérifier la consommation de CPU</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">$</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">docker</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">stats</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">$(</span><span style="--0:#FFCB6B">docker</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">inspect</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-f</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">"</span><span style="--0:#C3E88D">{{ .Name }}</span><span style="--0:#89DDFF">"</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">$(</span><span style="--0:#FFCB6B">docker</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">ps</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-q</span><span style="--0:#89DDFF">))</span></div></div><div class="ec-line"><div class="code"><span style="--0:#9FA4BC;--0fs:italic"># Supprimer conteneurs</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FFCB6B">$</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">docker</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">rm</span><span style="--0:#BABED8"> </span><span style="--0:#89DDFF">$(</span><span style="--0:#FFCB6B">docker</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">ps</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-a</span><span style="--0:#BABED8"> </span><span style="--0:#C3E88D">-q</span><span style="--0:#89DDFF">)</span></div></div></code></pre><div class="copy"><div aria-live="polite"></div><button title="Copy to clipboard" data-copied="Copied!" data-code="$ docker-compose exec php bash$ docker-compose exec php composer update$ docker-compose exec php php /var/www/symfony/app/console cache:clear$ docker-compose exec php bash$ sf cache:clear$ docker-compose exec db mysql -uroot -p&#x22;root&#x22;$ docker-compose exec redis redis-cli$ sudo chmod -R 777 symfony/app/cache symfony/app/logs$ docker stats $(docker inspect -f &#x22;{{ .Name }}&#x22; $(docker ps -q))$ docker rm $(docker ps -a -q)"><div></div></button></div></figure></div> <div> <hr> <h2 class="dark:text-gray-100">About the author</h2> <div class="flex flex-col md:flex-row items-center gap-5 md:gap-8 mt-5"> <div class="relative shrink-0 h-32 w-32"> <img src="/_astro/profile-picture.CAXSHk1R_1lrNb9.webp" loading="eager" alt="Maxence Poutord" decoding="async" fetchpriority="auto" width="128" height="128" class="not-prose h-32 w-32 object-cover rounded-full"> </div> <div> <p class="mt-0! pb-2">
Hey, I'm Maxence Poutord, a passionate software engineer. In my
        day-to-day job, I'm working as a senior front-end engineer at Orderfox.
        When I'm not working, you can find me travelling the world or cooking.
</p> <a class="not-prose group inline-flex rounded border
    font-semibold no-underline
    transition-colors duration-200 ease-in-out px-3 py-2
    border-blue-500 bg-blue-500 text-white
    hover:border-blue-500 hover:bg-white hover:text-blue-500" rel="noopener" target="_blank" href="https://bsky.app/profile/maxpou.fr"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" role="img" aria-label="Bluesky" width="24" height="24" class="h-6 w-6 pr-2 pt-1 fill-white group-hover:fill-blue-600"><path d="M111.8 62.2C170.2 105.9 233 194.7 256 242.4c23-47.6 85.8-136.4 144.2-180.2c42.1-31.6 110.3-56 110.3 21.8c0 15.5-8.9 130.5-14.1 149.2C478.2 298 412 314.6 353.1 304.5c102.9 17.5 129.1 75.5 72.5 133.5c-107.4 110.2-154.3-27.6-166.3-62.9l0 0c-1.7-4.9-2.6-7.8-3.3-7.8s-1.6 3-3.3 7.8l0 0c-12 35.3-59 173.1-166.3 62.9c-56.5-58-30.4-116 72.5-133.5C100 314.6 33.8 298 15.7 233.1C10.4 214.4 1.5 99.4 1.5 83.9c0-77.8 68.2-53.4 110.3-21.8z"></path></svg>
Follow me on Bluesky
 </a> </div> </div> </div> <section class="mx-auto mt-12"> <script src="https://giscus.app/client.js" data-repo="maxpou/maxpou.fr" data-repo-id="MDEwOlJlcG9zaXRvcnk0MTg1MTQyOQ==" data-category="General" data-category-id="MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMyMzMwNzY1" data-mapping="og:title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="preferred_color_scheme" data-lang="fr" data-loading="lazy" crossorigin="anonymous" async></script> </section> <script>
  function updateGiscusTheme() {
    const theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
    const iframe = document.querySelector('iframe.giscus-frame');
    if (!iframe) return;
    iframe.contentWindow.postMessage({ giscus: { setConfig: { theme }}}, 'https://giscus.app');
  }

  const observer = new MutationObserver(updateGiscusTheme);
  observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });
  
  window.onload = () => {
    updateGiscusTheme();
  };
</script>  </div>  <div> <h2 class="text-2xl underline mt-12 font-bold dark:text-mainYellow">
Recommended posts
</h2> <div class="grid grid-cols-1 gap-6 md:grid-cols-2 mt-6"> <a title="Vue.js: Let's Scale!" href="/blog/vue-js-module-architecture/" class="ease flex flex-col rounded-lg bg-white transition duration-300 dark:bg-gray-500 hover:translate-y-0.5 shadow-md  hover:shadow-xl group"> <picture> <source srcset="/_astro/cover.B5jYl0xe_Z1c4L0T.webp" type="image/webp"><source srcset="/_astro/cover.B5jYl0xe_Z2pBqp6.avif" type="image/avif"><source srcset="/_astro/cover.B5jYl0xe_2rqBBA.jpeg" type="image/jpeg">  <img src="/_astro/cover.B5jYl0xe_Z1er8Jj.jpg" alt="Architecture and technical decision behind a big Vue.js application." loading="lazy" decoding="async" fetchpriority="auto" width="420" height="224" class="h-56 w-full rounded-b-none rounded-t-lg object-cover transition"> </picture> <div class="p-4"> <header class="text-xl text-gray-700 dark:text-gray-100">  <span class="inline"> <span class="from-blue-100 to-blue-100 text-dark dark:bg-none font-semibold
           bg-linear-to-r bg-size-[0px_10px] bg-bottom-left bg-no-repeat transition-[background-size] duration-500 hover:bg-size-[100%_3px] group-hover:bg-size-[100%_10px]">  Vue.js: Let&#39;s Scale! </span> </span> </header> <p class="date text-gray-400 dark:text-gray-100 text-sm"> Architecture and technical decision behind a big Vue.js application. </p> </div> </a><a title="3 Tips for Scaling Large Vue.js Application" href="/blog/3-tips-scaling-vue-application/" class="ease flex flex-col rounded-lg bg-white transition duration-300 dark:bg-gray-500 hover:translate-y-0.5 shadow-md  hover:shadow-xl group"> <picture> <source srcset="/_astro/cover.B7HUrBwa_Z1b7aIs.webp" type="image/webp"><source srcset="/_astro/cover.B7HUrBwa_Z1unihC.avif" type="image/avif"><source srcset="/_astro/cover.B7HUrBwa_1QE7yl.jpeg" type="image/jpeg">  <img src="/_astro/cover.B7HUrBwa_Z8yMhV.jpg" alt="1. Split your application into completely isolated modules. 2. Consider micro-frontends architecture. 3. Don't put everything in the Vuex Store" loading="lazy" decoding="async" fetchpriority="auto" width="420" height="224" class="h-56 w-full rounded-b-none rounded-t-lg object-cover transition"> </picture> <div class="p-4"> <header class="text-xl text-gray-700 dark:text-gray-100">  <span class="inline"> <span class="from-blue-100 to-blue-100 text-dark dark:bg-none font-semibold
           bg-linear-to-r bg-size-[0px_10px] bg-bottom-left bg-no-repeat transition-[background-size] duration-500 hover:bg-size-[100%_3px] group-hover:bg-size-[100%_10px]">  3 Tips for Scaling Large Vue.js Application </span> </span> </header> <p class="date text-gray-400 dark:text-gray-100 text-sm"> 1. Split your application into completely isolated modules. 2. Consider micro-frontends architecture. 3. Don&#39;t put everything in the Vuex Store </p> </div> </a> </div> </div>  </div> </article> <section class="mt-12"><h2 class="text-2xl font-bold mb-6 dark:text-white">Related Posts</h2><div class="not-prose grid grid-cols-1 gap-6 md:grid-cols-3"><a title="vagrant up et dites adieu à WAMP !" href="/blog/vagrant/" class="ease flex flex-col rounded-lg bg-white transition duration-300 dark:bg-gray-500 hover:translate-y-0.5 shadow-md  hover:shadow-xl group"> <picture> <source srcset="/_astro/logo.BwSswIFj_Z1nKlOA.webp" type="image/webp"><source srcset="/_astro/logo.BwSswIFj_Z1nbHeT.avif" type="image/avif"><source srcset="/_astro/logo.BwSswIFj_Z24afiM.jpeg" type="image/jpeg">  <img src="/_astro/logo.BwSswIFj_Zsvuor.png" alt="Présentation et installation de Vagrant" loading="lazy" decoding="async" fetchpriority="auto" width="420" height="224" class="h-56 w-full rounded-b-none rounded-t-lg object-cover transition"> </picture> <div class="p-4"> <header class="text-xl text-gray-700 dark:text-gray-100"> <p class="text-gray-400 dark:text-gray-100 text-sm"> <time datetime="2015-06-13T00:00:00.000Z"> 13 June 2015 </time> </p> <span class="inline"> <span class="from-blue-100 to-blue-100 text-dark dark:bg-none font-semibold
           bg-linear-to-r bg-size-[0px_10px] bg-bottom-left bg-no-repeat transition-[background-size] duration-500 hover:bg-size-[100%_3px] group-hover:bg-size-[100%_10px]"> <img src="/_astro/FrFlag.DNsUAno6.png" alt="French post" class="inline pb-[6px] pr-1" loading="lazy"> vagrant up et dites adieu à WAMP ! </span> </span> </header> <p class="date text-gray-400 dark:text-gray-100 text-sm"> Présentation et installation de Vagrant </p> </div> </a><a title="Utilisez un framework PHP" href="/blog/utilisez-un-framework-php/" class="ease flex flex-col rounded-lg bg-white transition duration-300 dark:bg-gray-500 hover:translate-y-0.5 shadow-md  hover:shadow-xl group"> <picture> <source srcset="/_astro/abstract-4.c0E__Wcj_11hVeH.webp" type="image/webp"><source srcset="/_astro/abstract-4.c0E__Wcj_Zi63mc.avif" type="image/avif"><source srcset="/_astro/abstract-4.c0E__Wcj_CAnkk.jpeg" type="image/jpeg">  <img src="/_astro/abstract-4.c0E__Wcj_ZuL5FB.jpg" alt="Cover image for Utilisez un framework PHP" loading="lazy" decoding="async" fetchpriority="auto" width="420" height="224" class="h-56 w-full rounded-b-none rounded-t-lg object-cover transition"> </picture> <div class="p-4"> <header class="text-xl text-gray-700 dark:text-gray-100"> <p class="text-gray-400 dark:text-gray-100 text-sm"> <time datetime="2015-07-18T00:00:00.000Z"> 18 July 2015 </time> </p> <span class="inline"> <span class="from-blue-100 to-blue-100 text-dark dark:bg-none font-semibold
           bg-linear-to-r bg-size-[0px_10px] bg-bottom-left bg-no-repeat transition-[background-size] duration-500 hover:bg-size-[100%_3px] group-hover:bg-size-[100%_10px]"> <img src="/_astro/FrFlag.DNsUAno6.png" alt="French post" class="inline pb-[6px] pr-1" loading="lazy"> Utilisez un framework PHP </span> </span> </header> <p class="date text-gray-400 dark:text-gray-100 text-sm">  </p> </div> </a><a title="Dealing with Enum in a Symfony App with Doctrine2 as ORM" href="/blog/dealing-with-enum-symfony-doctrine/" class="ease flex flex-col rounded-lg bg-white transition duration-300 dark:bg-gray-500 hover:translate-y-0.5 shadow-md  hover:shadow-xl group"> <picture> <source srcset="/_astro/abstract-1.DRH2bYFz_1slidP.webp" type="image/webp"><source srcset="/_astro/abstract-1.DRH2bYFz_1hJE1m.avif" type="image/avif"><source srcset="/_astro/abstract-1.DRH2bYFz_ZoRDgY.jpeg" type="image/jpeg">  <img src="/_astro/abstract-1.DRH2bYFz_Z3Tn1p.jpg" alt="Cover image for Dealing with Enum in a Symfony App with Doctrine2 as ORM" loading="lazy" decoding="async" fetchpriority="auto" width="420" height="224" class="h-56 w-full rounded-b-none rounded-t-lg object-cover transition"> </picture> <div class="p-4"> <header class="text-xl text-gray-700 dark:text-gray-100"> <p class="text-gray-400 dark:text-gray-100 text-sm"> <time datetime="2016-08-04T00:00:00.000Z"> 4 August 2016 </time> </p> <span class="inline"> <span class="from-blue-100 to-blue-100 text-dark dark:bg-none font-semibold
           bg-linear-to-r bg-size-[0px_10px] bg-bottom-left bg-no-repeat transition-[background-size] duration-500 hover:bg-size-[100%_3px] group-hover:bg-size-[100%_10px]">  Dealing with Enum in a Symfony App with Doctrine2 as ORM </span> </span> </header> <p class="date text-gray-400 dark:text-gray-100 text-sm">  </p> </div> </a></div></section>  </main> <footer class="bg-blue-50 dark:bg-gray-600 dark:text-white w-full mx-auto pb-0 text-[#60739f]" data-astro-cid-sz7xmlte> <div class="m-auto flex w-5xl max-w-full flex-wrap justify-between sm:flex-row sm:gap-2 gap-4 flex-col" data-astro-cid-sz7xmlte> <div class="w-full sm:pb-4 md:w-auto flex-auto" data-astro-cid-sz7xmlte> <p class="pb-1 font-bold" data-astro-cid-sz7xmlte>
&copy; 2014 - 2026 - Maxence Poutord </p> <p data-astro-cid-sz7xmlte>Built with Astro, Tailwind and some ☕️</p> <p data-astro-cid-sz7xmlte>
Hosted with <span class="text-red-500" data-astro-cid-sz7xmlte>❤</span> by <a class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" href="https://github.com/maxpou/maxpou.fr" data-astro-cid-sz7xmlte>GitHub</a>.
</p> </div> <div class="flex-auto" data-astro-cid-sz7xmlte> <h3 class="pb-1 font-bold" data-astro-cid-sz7xmlte>Explore</h3> <ul data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte> <a href="/blog" target="_self" class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" data-astro-cid-sz7xmlte> Blog </a> </li><li data-astro-cid-sz7xmlte> <a href="/about" target="_self" class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" data-astro-cid-sz7xmlte> About </a> </li><li data-astro-cid-sz7xmlte> <a href="/uses" target="_self" class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" data-astro-cid-sz7xmlte> Uses </a> </li><li data-astro-cid-sz7xmlte> <a href="/cv" target="_blank" class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" data-astro-cid-sz7xmlte> Resume (cv) </a> </li><li data-astro-cid-sz7xmlte> <a href="/readme" target="_self" class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" data-astro-cid-sz7xmlte> Readme </a> </li> </ul> </div> <div class="flex-auto" data-astro-cid-sz7xmlte> <h3 class="pb-1 font-bold" data-astro-cid-sz7xmlte>Things I’ve Made
</h3> <ul data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte> <a href="/recipes" target="_self" class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" data-astro-cid-sz7xmlte> Recipes </a> </li><li data-astro-cid-sz7xmlte> <a href="https://air-max.netlify.app" target="_blank" class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" data-astro-cid-sz7xmlte> Avion </a> </li><li data-astro-cid-sz7xmlte> <a href="https://youtube-mate.com" target="_blank" class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" data-astro-cid-sz7xmlte> YoutubeMate </a> </li><li data-astro-cid-sz7xmlte> <a href="/portfolio" target="_self" class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" data-astro-cid-sz7xmlte> Portfolio </a> </li> </ul> </div> <div class="flex-auto" data-astro-cid-sz7xmlte> <h3 class="pb-1 font-bold flex-auto" data-astro-cid-sz7xmlte>Let's connect</h3> <ul data-astro-cid-sz7xmlte> <li data-astro-cid-sz7xmlte> <a href="https://github.com/maxpou" rel="noopener noreferrer" class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" data-astro-cid-sz7xmlte> GitHub </a> </li><li data-astro-cid-sz7xmlte> <a href="https://bsky.app/profile/maxpou.fr" rel="noopener noreferrer" class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" data-astro-cid-sz7xmlte> Bluesky </a> </li><li data-astro-cid-sz7xmlte> <a href="https://www.linkedin.com/in/maxpou/" rel="noopener noreferrer" class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" data-astro-cid-sz7xmlte> LinkedIn </a> </li><li data-astro-cid-sz7xmlte> <a href="/rss.xml" class="hover:text-gray-700 hover:underline dark:hover:text-mainYellow" data-astro-cid-sz7xmlte> RSS feed </a> </li> </ul> </div> </div>  </footer>  </body> </html>