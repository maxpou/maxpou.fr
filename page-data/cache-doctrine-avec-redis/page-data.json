{"componentChunkName":"component---src-templates-blog-post-js","path":"/cache-doctrine-avec-redis","result":{"data":{"post":{"excerpt":"La meilleur requête est celle que l'on a pas à faire —  un inconnu Dans mon actuelle mission, nous développons une application sous Symfony…","body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"layout\": \"post\",\n  \"title\": \"Utiliser Redis pour stocker le cache de Doctrine\",\n  \"description\": \"Améliorer les performances de doctrine en utilisant son cache et en stockant les informations sur Redis\",\n  \"date\": \"2016-03-08T00:00:00.000Z\",\n  \"language\": \"fr\",\n  \"slug\": \"cache-doctrine-avec-redis\",\n  \"tags\": [\"Symfony2\", \"Doctrine\", \"Redis\"],\n  \"cover\": \"./header.png\",\n  \"generate-card\": false\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"La meilleur requ\\xEAte est celle que l\\u2019on a pas \\xE0 faire \\u2014 \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"un inconnu\"))), mdx(\"p\", null, \"Dans mon actuelle mission, nous d\\xE9veloppons une application sous Symfony2 avec Doctrine comme ORM.\\nVoici grossi\\xE8rement \\xE0 quoi ressemble l\\u2019architecture globale :\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"58.78378378378378%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABcSAAAXEgFnn9JSAAADQklEQVQoz22Te0yTZxTGn+/joiu21AtIumiwOjWajniZK2vVRasoMi1KMMwYL7VYYRPdijBaK7NKS8vFShVCAYtag0ai1GRKSw3VQIyCLejiZZhtBFwzM2GyLPtDd5bvY/7HSU7yPnmT3znPe94DW1snnkdGQUTgoqFXx5g6lCAaRVQ0I4mdHLMAwAwA8QAmsYiSApgLYDImCsdl757BVyNaItrK6UtPD8HasxpV97/g7/vftOJEqSVVq9V5PpWnGgGw4lhJNPMBmAmBB9236Fr3YyKioZZH1uTSe8um1fbnJDpCWxIsHZtnEl2PWa/+zJgqV1KKbGlkm6R4qjxBjaJNtUy7/yYbDAbZ5uZmcOnxeIASS/W7g0VGamysHwj+cWZBadcKiTOUNft0WD3LHtya3EdK0VeFe03p6Wn0bYH+tXmdNwMA49Y+QGdXAIFAgH8uqVQ63vGb34flp6rsCrf7Qgqnrw4dRuXDDXCE1Djx4yJcG7Bg+FXkQ8ORppN3up9kvfWTIPejOhkRMb6O9lS/37+KOyclJY1bpn/HcOjAPhQeKeH11eECpuphOuMIqZng3RKWq05Ecb8ZivoGTcbc+9u/wZ5Y01Rbtnd3S0vLXz6f721+fv5iAIlisVgMU9MVjPzzjm875wXg6t/NVPSm8cBw2PYeOOVlceFPY9WV+T+s3QXNlGPTrZnXd7pcrp+9Xu9LjUYznwOKRCIRHFdubHwxFMkgopWoANxP9sPeu463XDu6HLW39Wg41zRv55fGBtmSz3XFcruw4OPzMkCEkxaz1FXv4mAQCATjlvUX2inw6FduypHmsGFhWc9Kydm+bH4o5lub5vxJuvi0TMX3CoWSlqasGNEuPJ3Bd32ZUFZxHI2NTbw7oVA4PpTD5krK05eQ5+L5X7pfu5O/uyObdiaUzX+bcwO7ZhB1spqvc4pUKhXl6fIGKUyCHRvyeEhZuZltbW1lnU4nampqYLVagWeP+zJt5dasurp6FVcg+LcN5T1rUN2zGe+3w3mqTmk8aqxv87bpFapPEgAkxAkFMRN+7K7bPuRqNTAYjvK6c8wOx9P1ON6ehqhYZrowXjATQBy3If9nIhvFctDoiYD/AcTibdGJcK+lAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/0340deb42b7103aa574a14527451c2ab/cbe2e/architecture.webp 148w\", \"/static/0340deb42b7103aa574a14527451c2ab/3084c/architecture.webp 295w\", \"/static/0340deb42b7103aa574a14527451c2ab/5ca24/architecture.webp 590w\", \"/static/0340deb42b7103aa574a14527451c2ab/487e2/architecture.webp 625w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/webp\"\n  }), \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/0340deb42b7103aa574a14527451c2ab/12f09/architecture.png 148w\", \"/static/0340deb42b7103aa574a14527451c2ab/e4a3f/architecture.png 295w\", \"/static/0340deb42b7103aa574a14527451c2ab/fcda8/architecture.png 590w\", \"/static/0340deb42b7103aa574a14527451c2ab/80d71/architecture.png 625w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/png\"\n  }), \"\\n          \", mdx(\"img\", {\n    parentName: \"picture\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/0340deb42b7103aa574a14527451c2ab/fcda8/architecture.png\",\n    \"alt\": \"architecture globale\",\n    \"title\": \"architecture globale\",\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  }), \"\\n        \"), \"\\n    \")), mdx(\"p\", null, \"Comme vous le voyez, l\\u2019application est d\\xE9doubl\\xE9e sur deux serveurs distincts qui ont interdiction de\\nse parler, en dehors de la base de donn\\xE9es. Nous avons \\xE9t\\xE9 confront\\xE9s \\xE0 des probl\\xE9matiques de\\nperformances qui nous a contraint d\\u2019utiliser le \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"cache de Doctrine\"), \".\"), mdx(\"p\", null, \"Il faut savoir qu\\u2019il y a\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://doctrine-orm.readthedocs.org/en/latest/reference/caching.html\"\n  }, \"3 types de cache pour Doctrine\"), \"\\n:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Query Cache : transformation DQL -> SQL;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Result Cache : r\\xE9sultat de la requ\\xEAte;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Metadata Cache : annotation des entities.\")), mdx(\"p\", null, \"Si on regarde\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://doctrine-orm.readthedocs.org/en/latest/reference/caching.html#cache-drivers\"\n  }, \"la liste des drivers\"), \",\\non s\\u2019aper\\xE7oit qu\\u2019il n\\u2019est pas \\xE9vident de mutualiser du cache entre plusieurs serveur (qui ne peuvent\\npas communiquer directement ensemble).\"), mdx(\"p\", null, \"C\\u2019est l\\xE0 que Redis arrive \\u2665\"), mdx(\"p\", null, \"En quelques mots, Redis (pour \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"REmote DIctionary Server\"), \") est un SGBD \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"cl\\xE9-valeur\"), \" qui s\\u2019inscrit\\ndans la mouvance NoSQL. En plus d\\u2019\\xEAtre simple d\\u2019utilisation, sa performance qui ferait p\\xE2lir Usain\\nBolt. Cela est principalement d\\xFB au fait que tout est persist\\xE9 dans le cache du serveur. Si vous\\ndoutez encore de cette derni\\xE8re phrase, sachez que\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://highscalability.com/blog/2012/4/2/youporn-targeting-200-million-views-a-day-and-beyond.html\"\n  }, \"YouPorn\"), \",\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://nickcraver.com/blog/2016/02/17/stack-overflow-the-architecture-2016-edition/\"\n  }, \"Stack Overflow\"), \",\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/blog/530-how-we-made-github-fast\"\n  }, \"Github\"), \"\\u2026 l\\u2019utilisent ;-)\"), mdx(\"p\", null, \"Voici un exemple de fonctionnement :\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \">\"), \" SET name \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"maxence\\\"\"), \"\\nOK\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \">\"), \" GET name\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"maxence\\\"\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \">\"), \" KEYS *\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"name\\\"\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# Assigner un TTL sur une variable\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \">\"), \" SETEX mission \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"10\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"votre mission si vous l'acceptez... ce message s'autod\\xE9truira dans 10s\\\"\"), \"\\nOK\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# 10' apr\\xE8s, le couple clef/valeur a disparu\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \">\"), \" GET mission\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"nil\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"h2\", {\n    \"id\": \"installation\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#installation\",\n    \"aria-label\": \"installation permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Installation\"), mdx(\"p\", null, \"L\\u2019installation de Redis est plut\\xF4t simple et se fait en quelques lignes de commande :\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# download\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"wget\"), \" http://download.redis.io/redis-stable.tar.gz\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"tar\"), \" xvzf redis-stable.tar.gz\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token builtin class-name\"\n  }, \"cd\"), \" redis-stable\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"make\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# install\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"sudo\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"make\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"install\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# start\"), \"\\nredis-server\"))), mdx(\"p\", null, \"Il va ensuite falloir installer les bundles qui vont bien :\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"composer\"), \" require snc/redis-bundle \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2\"), \".x-dev\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"composer\"), \" require predis/predis ^1.0\"))), mdx(\"p\", null, \"Et on modifie le app/AppKernel.php:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"php\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-php\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-php\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token php language-php\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token delimiter important\"\n  }, \"<?php\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"public\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function-definition function\"\n  }, \"registerBundles\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$bundles\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"array\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"// ...\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name class-name-fully-qualified\"\n  }, \"Snc\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"RedisBundle\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"SncRedisBundle\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"// ...\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"//...\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"))))), mdx(\"p\", null, \"Dans le config.yml :\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"yaml\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-yaml\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"imports\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"-\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"resource\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" redis.yml \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# Doctrine Configuration\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"doctrine\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"dbal\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"#...\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"orm\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"auto_generate_proxy_classes\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'%kernel.debug%'\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"naming_strategy\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" doctrine.orm.naming_strategy.underscore\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# IMPORTANT!\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"auto_mapping\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token boolean important\"\n  }, \"true\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"metadata_cache_driver\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" redis\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"query_cache_driver\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" redis\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# redis.yml\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"snc_redis\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"clients\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"default\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"type\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" predis\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"alias\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" default\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"dsn\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" redis\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"//1.2.3.4\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"doctrine\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"type\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" predis\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"alias\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" doctrine\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"dsn\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" redis\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"//1.2.3.4\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"doctrine\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"metadata_cache\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"client\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" doctrine\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"entity_manager\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" default\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"document_manager\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" default\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"result_cache\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"client\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" doctrine\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"entity_manager\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" default\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"query_cache\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"client\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" doctrine\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"entity_manager\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" default\"))), mdx(\"p\", null, \"Et voil\\xE0 pour l\\u2019installation.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"A ce stade, seuls les caches de metadata et de query sont op\\xE9rationnels. Pour la mise en cache du\\nr\\xE9sultat, il faudra le faire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"manuellement sur chaque requ\\xEAte\"), \".\"), mdx(\"h2\", {\n    \"id\": \"mettre-en-cache-le-résultat\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#mettre-en-cache-le-r%C3%A9sultat\",\n    \"aria-label\": \"mettre en cache le résultat permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Mettre en cache le r\\xE9sultat\"), mdx(\"p\", null, \"Termin\\xE9 les requ\\xEAtes \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"inlines\"), \" dans les controllers ! Vous allez d\\xE9sormais devoir utiliser le\"), mdx(\"abbr\", {\n    title: \"Doctrine Query Language\"\n  }, \"DQL\"), \" ou le QueryBuilder.\", mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"php\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-php\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-php\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token php language-php\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token delimiter important\"\n  }, \"<?php\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"public\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function-definition function\"\n  }, \"findBeers\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$query\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$this\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"->\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"getEntityManager\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"->\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"createQuery\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string single-quoted-string\"\n  }, \"'select beers from MaxpouBeerBundle:Beers b'\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$query\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"->\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"useResultCache\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token constant boolean\"\n  }, \"true\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$query\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"->\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"setResultCacheLifetime\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token number\"\n  }, \"3600\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"//3600sec = 1 hour\"), \"\\n\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$query\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"->\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"getResult\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"))))), mdx(\"p\", null, \"Maintenant, si l\\u2019on recharge la page, cette requ\\xEAte ne se fera plus via MySQL mais bien via Redis.\\nOn peut v\\xE9rifier tout cela en allant sur Redis et en rentrant la commande suivante : \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"KEYS *\"), \". Voici\\nce que l\\u2019on va avoir :\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \">\"), \" KEYS *\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"[Maxpou\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token entity\",\n    \"title\": \"\\\\\\\\\"\n  }, \"\\\\\\\\\"), \"BeerBundle\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token entity\",\n    \"title\": \"\\\\\\\\\"\n  }, \"\\\\\\\\\"), \"Entity\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token entity\",\n    \"title\": \"\\\\\\\\\"\n  }, \"\\\\\\\\\"), \"Beer\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$CLASSMETADATA\"), \"][1]\\\"\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"[809cd863587594a754a7ffda5c2c06ee4640ebe3][1]\\\"\")))), mdx(\"p\", null, \"La premi\\xE8re ligne va contenir les m\\xE9tadonn\\xE9es de la classe Beer. La seconde, contiendra la requ\\xEAte\\n\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"et\"), \" son r\\xE9sultat. Si vous voulez avoir une cl\\xE9 un peu plus digeste, vous pouvez utiliser cette\\nm\\xE9thode \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"$query->setResultCacheId('my_wonderful_key');\"), \" ou m\\xEAme faire \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"1 pierre 3 coups\"), \" :\\n\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"$query->useResultCache(true, 3600, 'my_wonderful_key');\"), \".\"), mdx(\"p\", null, \"Voici ce que nous aurons : (je n\\u2019ai pas r\\xE9ussi \\xE0 supprimer le \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"[1]\"), \")\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \">\"), \" KEYS *\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"[Maxpou\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token entity\",\n    \"title\": \"\\\\\\\\\"\n  }, \"\\\\\\\\\"), \"BeerBundle\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token entity\",\n    \"title\": \"\\\\\\\\\"\n  }, \"\\\\\\\\\"), \"Entity\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token entity\",\n    \"title\": \"\\\\\\\\\"\n  }, \"\\\\\\\\\"), \"Beer\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$CLASSMETADATA\"), \"][1]\\\"\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"[my_wonderful_key][1]\\\"\")))), mdx(\"p\", null, \"Pour nettoyer le cache, voici quelques commandes :\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# Nettoyer cache des queries\"), \"\\nphp app/console doctrine:cache:clear-query\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# Nettoyer cache des metadatas\"), \"\\nphp app/console doctrine:cache:clear-metadata\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# Nettoyer cache des r\\xE9sultats\"), \"\\nphp app/console doctrine:cache:clear-result\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"# Vider la base redis\"), \"\\nphp app/console redis:flushdb\"))), mdx(\"h2\", {\n    \"id\": \"invalider-le-cache-des-requêtes\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#invalider-le-cache-des-requ%C3%AAtes\",\n    \"aria-label\": \"invalider le cache des requêtes permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Invalider le cache des requ\\xEAtes\"), mdx(\"p\", null, \"C\\u2019est bien de mettre en place un syst\\xE8me de cache, mais vous n\\u2019allez pas demander \\xE0 vos utilisateurs\\nde lancer la commande apr\\xE8s chaque op\\xE9ration. Il va donc falloir utiliser les \\xE9v\\xE9nements de\\nDoctrine, et plus particuli\\xE8rement\\nl\\u2019\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://doctrine-orm.readthedocs.org/projects/doctrine-orm/en/latest/reference/events.html#entity-listeners\"\n  }, \"entity listeners\"), \"\\nSi vous faites des tests, pensez \\xE0 commenter le cache des m\\xE9tadonn\\xE9es ;-)\"), mdx(\"p\", null, \"D\\xE9finissez le service :\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"php\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-php\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-php\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token php language-php\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token delimiter important\"\n  }, \"<?php\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"namespace\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token package\"\n  }, \"Maxpou\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"BeerBundle\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"Service\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"use\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token package\"\n  }, \"Doctrine\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"ORM\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"Event\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"LifecycleEventArgs\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"use\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token package\"\n  }, \"Maxpou\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"BeerBundle\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"Entity\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"Beer\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"class\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name-definition class-name\"\n  }, \"BeerListener\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"private\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$cacheDriver\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"public\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function-definition function\"\n  }, \"__construct\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$cacheDriver\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$this\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"->\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token property\"\n  }, \"cacheDriver\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$cacheDriver\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"public\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function-definition function\"\n  }, \"postPersist\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name type-declaration\"\n  }, \"Beer\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$beer\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name type-declaration\"\n  }, \"LifecycleEventArgs\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$args\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$this\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"->\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token property\"\n  }, \"cacheDriver\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"->\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"expire\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string single-quoted-string\"\n  }, \"'[beers_all][1]'\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token number\"\n  }, \"0\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"public\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function-definition function\"\n  }, \"postUpdate\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name type-declaration\"\n  }, \"Beer\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$beer\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name type-declaration\"\n  }, \"LifecycleEventArgs\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$args\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$this\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"->\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token property\"\n  }, \"cacheDriver\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"->\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"expire\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string single-quoted-string\"\n  }, \"'[beers_all][1]'\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token number\"\n  }, \"0\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"public\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"function\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function-definition function\"\n  }, \"postRemove\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name type-declaration\"\n  }, \"Beer\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$beer\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name type-declaration\"\n  }, \"LifecycleEventArgs\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$args\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token variable\"\n  }, \"$this\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"->\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token property\"\n  }, \"cacheDriver\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"->\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"expire\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string single-quoted-string\"\n  }, \"'[beers_all][1]'\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token number\"\n  }, \"0\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"))))), mdx(\"p\", null, \"Ici, \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"beer_all\"), \" est le nom de l\\u2019id assign\\xE9 au cache.\"), mdx(\"p\", null, \"Le service.yml :\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"yaml\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-yaml\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"beer_listener\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"class\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" Maxpou\\\\BeerBundle\\\\Service\\\\BeerListener\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"arguments\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"-\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'@snc_redis.doctrine'\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"tags\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"-\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token key atrule\"\n  }, \"name\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \":\"), \" doctrine.orm.entity_listener \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")))), mdx(\"p\", null, \"Et enfin l\\u2019annotation sur l\\u2019entity :\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"php\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-php\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-php\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token php language-php\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token delimiter important\"\n  }, \"<?php\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"/**\\n * Beer\\n *\\n * @ORM\\\\Table(name=\\\"beers\\\")\\n * @ORM\\\\Entity(repositoryClass=\\\"Maxpou\\\\BeerBundle\\\\Repository\\\\BeerRepository\\\")\\n * @ORM\\\\EntityListeners({\\\"Maxpou\\\\BeerBundle\\\\Service\\\\BeerListener\\\"})\\n */\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"class\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name-definition class-name\"\n  }, \"Beer\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"implements\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name\"\n  }, \"BeerInterface\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"//...\"))))), mdx(\"p\", null, \"Les plus pointilleux d\\u2019entre vous auront remarqu\\xE9s que je red\\xE9fini le TTL de ma clef au lieu de la\\nsupprimer. En effet, si je supprime ma clef, la nouvelle clef cr\\xE9\\xE9e sera \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"[beers_all][2]\"), \". Et le\\ncompteur augmentera ainsi de suite\\u2026\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Avec cette technique \", mdx(\"s\", null, \"de fain\\xE9ant\"), \", on garde la main sur le nom de la clef qui sera toujours\\n\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"[beers_all][1]\"), \".\"), mdx(\"h2\", {\n    \"id\": \"pour-aller-plus-loin\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#pour-aller-plus-loin\",\n    \"aria-label\": \"pour aller plus loin permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Pour aller plus loin\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Tutoriel/Sandbox Redis : \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"http://try.redis.io\"\n  }, \"http://try.redis.io\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"http://doctrine-orm.readthedocs.org/projects/doctrine-orm/en/latest/reference/second-level-cache.html\"\n  }, \"2e niveau de cache de Doctrine (encore \\xE0 l\\u2019\\xE9tat exp\\xE9rimental)\"))), mdx(\"h2\", {\n    \"id\": \"tips\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#tips\",\n    \"aria-label\": \"tips permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Tips\"), mdx(\"p\", null, \"Utiliser les pipes unix avec le redis-cli : \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"echo \\\"KEYS *\\\" | ./path/to/redis-cli | grep beer\"), mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"V\\xE9rifier le \", mdx(\"abbr\", {\n    title: \"Time To Live\"\n  }, \"TTL\"), \" d\\u2019une clef: \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"TTL [beer-id-42][1]\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Utiliser Redis pour stocker le cache de Doctrine","date":"2016-03-08T00:00:00.000Z","slug":"cache-doctrine-avec-redis","language":"fr","tags":["Symfony2","Doctrine","Redis"],"description":"Améliorer les performances de doctrine en utilisant son cache et en stockant les informations sur Redis","cover":{"publicURL":"/static/1171885bb2b718192a51704eb5605f07/header.png","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#e8e8e8","images":{"fallback":{"src":"/static/1171885bb2b718192a51704eb5605f07/5addc/header.png","srcSet":"/static/1171885bb2b718192a51704eb5605f07/128ca/header.png 289w,\n/static/1171885bb2b718192a51704eb5605f07/517eb/header.png 578w,\n/static/1171885bb2b718192a51704eb5605f07/5addc/header.png 1155w","sizes":"(min-width: 1155px) 1155px, 100vw"},"sources":[{"srcSet":"/static/1171885bb2b718192a51704eb5605f07/06358/header.webp 289w,\n/static/1171885bb2b718192a51704eb5605f07/42601/header.webp 578w,\n/static/1171885bb2b718192a51704eb5605f07/0fd8b/header.webp 1155w","type":"image/webp","sizes":"(min-width: 1155px) 1155px, 100vw"}]},"width":1155,"height":510.99999999999994}}},"imageShare":null,"translations":null,"redditPostId":null}}},"pageContext":{"slug":"cache-doctrine-avec-redis","previous":{"fileAbsolutePath":"/home/runner/work/maxpou.fr/maxpou.fr/content/posts/2021/2021-04-15-lesson-learned-large-vue-app/index.mdx","frontmatter":{"title":"Lessons Learned by Maintaining a Large Codebase","slug":"lesson-learned-maintaining-large-vue-js-codebase","tags":["Vue.js"],"language":"en","featured":true,"cover":{"publicURL":"/static/673592504f615d2c5bf82f6985d6a663/cover.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#d8d8d8","images":{"fallback":{"src":"/static/673592504f615d2c5bf82f6985d6a663/e70fc/cover.jpg","srcSet":"/static/673592504f615d2c5bf82f6985d6a663/da65b/cover.jpg 160w,\n/static/673592504f615d2c5bf82f6985d6a663/f6fcd/cover.jpg 320w,\n/static/673592504f615d2c5bf82f6985d6a663/e70fc/cover.jpg 640w,\n/static/673592504f615d2c5bf82f6985d6a663/f3dc5/cover.jpg 1280w","sizes":"(min-width: 640px) 640px, 100vw"},"sources":[{"srcSet":"/static/673592504f615d2c5bf82f6985d6a663/405d4/cover.webp 160w,\n/static/673592504f615d2c5bf82f6985d6a663/dde70/cover.webp 320w,\n/static/673592504f615d2c5bf82f6985d6a663/62859/cover.webp 640w,\n/static/673592504f615d2c5bf82f6985d6a663/f121e/cover.webp 1280w","type":"image/webp","sizes":"(min-width: 640px) 640px, 100vw"}]},"width":640,"height":426.99999999999994}}},"unlisted":null},"timeToRead":3,"excerpt":"I've been maintaining a massive Vue.js codebase for the last 3 years. Here are 9 lessons I've\nlearned along the way. Not really mistakes I…"},"next":{"fileAbsolutePath":"/home/runner/work/maxpou.fr/maxpou.fr/content/posts/2021/2021-05-27-vue-js-module-architecture/index.mdx","frontmatter":{"title":"Vue.js: Let's Scale!","slug":"vue-js-module-architecture","tags":["Vue.js"],"language":"en","featured":true,"cover":{"publicURL":"/static/0efc7f7b0b5eeea26232de8583ee1aa7/cover.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#084848","images":{"fallback":{"src":"/static/0efc7f7b0b5eeea26232de8583ee1aa7/a962d/cover.jpg","srcSet":"/static/0efc7f7b0b5eeea26232de8583ee1aa7/da65b/cover.jpg 160w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/f6fcd/cover.jpg 320w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/a962d/cover.jpg 640w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/f3dc5/cover.jpg 1280w","sizes":"(min-width: 640px) 640px, 100vw"},"sources":[{"srcSet":"/static/0efc7f7b0b5eeea26232de8583ee1aa7/405d4/cover.webp 160w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/dde70/cover.webp 320w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/18e38/cover.webp 640w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/f121e/cover.webp 1280w","type":"image/webp","sizes":"(min-width: 640px) 640px, 100vw"}]},"width":640,"height":426}}},"unlisted":null},"timeToRead":5,"excerpt":"Just like React, Vue.js is a great tool to build web applications. In this article, I will share a\nproject I have been working on over the…"}}},"staticQueryHashes":["2709979211"]}