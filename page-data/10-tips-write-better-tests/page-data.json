{"componentChunkName":"component---src-templates-blog-post-js","path":"/10-tips-write-better-tests","result":{"data":{"post":{"excerpt":"#1 - Think documentation Your company wiki can be outdated. Tests can't. Everybody wants good and well-written documentation. Unfortunatelyâ€¦","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"10 Tips for Writing Better Tests\",\n  \"slug\": \"10-tips-write-better-tests\",\n  \"date\": \"2020-02-04T00:00:00.000Z\",\n  \"language\": \"en\",\n  \"cover\": \"./cover.jpeg\",\n  \"imageShare\": \"./10-tips-write-better-tests-share.png\",\n  \"tags\": [\"Testing\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"1---think-documentation\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#1---think-documentation\",\n    \"aria-label\": \"1   think documentation permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"#1 - Think documentation\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Your company wiki can be outdated. Tests can\\u2019t.\")), mdx(\"p\", null, \"Everybody wants good and well-written documentation. Unfortunately, it\\u2019s hard to keep it up to date.\\nI believe tests can replace, somehow, a part of the documentation. Tests provide a good description\\nof how your application should behave.\"), mdx(\"p\", null, \"Let me show you an example I could write:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-js\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// Shop.spec.js\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"it\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'should show list of product'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"/* ... */\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"it\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'should hide non-available products'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"/* ... */\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"it\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'should display a discount label when available'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"/* ... */\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"it\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'should paginate when > 10 products'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"/* ... */\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"p\", null, \"Just by reading the name of the name of the file and the 4 descriptions, I already know what is this\\nfunctionality and some business rules.\"), mdx(\"p\", null, \"Also, if the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u201Cshould hide non-available products\\u201D\"), \" test breaks, I know exactly where to start my\\ninvestigations.\"), mdx(\"h2\", {\n    \"id\": \"2---isolate-your-tests\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#2---isolate-your-tests\",\n    \"aria-label\": \"2   isolate your tests permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"#2 - Isolate your tests\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/b0e97b54642b92351a11e99a6e42f1c3/side-effects.gif\",\n    \"alt\": \"side effects\"\n  })), mdx(\"p\", null, \"To better organise your test file, you can group related assertions under the same test (= the same\\n\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"it()\"), \"/\", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"test()\"), \"). Try to keep your reasonably small. Smaller tests are \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"easier to understand and\\neasier to maintain\"), \".\"), mdx(\"p\", null, \"Sometimes, we need to test a full process. Like a payment flow where you have a few different steps\\n\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"(i.e. payment info > user address > confirmation)\"), \".\"), mdx(\"p\", null, \"If you hesitate between creating one big test vs one test per step, where \\u201Cstep 2\\u201D depends on \\u201Cstep\\n1\\u201D, go for the first option. It\\u2019s OK to have some longer tests.\"), mdx(\"p\", null, \"Sharing a state between tests is a bad idea. They\\u2019re hard to debug and soon or later, you will face\\nweird issues caused by side effects. \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Always keep your tests isolated\"), \". Tests should not depend on\\neach other.\"), mdx(\"h2\", {\n    \"id\": \"3---keep-it-flat\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#3---keep-it-flat\",\n    \"aria-label\": \"3   keep it flat permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"#3 - Keep it flat\"), mdx(\"p\", null, \"I tend not to write any condition (if/else/\\u2026) in my tests. If your test has an if condition, maybe\\nyou are testing 2 different things. Which means, your test may have too many responsibilities.\"), mdx(\"p\", null, \"Remember the S of SOLID (S = Single-responsibility Principle). If it makes the coffee, toast your\\nbread and fetch the forecast\\u2026 there might be something wrong.\"), mdx(\"h2\", {\n    \"id\": \"4---only-mock-what-you-cant-control\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#4---only-mock-what-you-cant-control\",\n    \"aria-label\": \"4   only mock what you cant control permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"#4 - Only mock what you can\\u2019t control\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Every time we mock, we diverge from the real world scenario.\")), mdx(\"p\", null, \"For this reason, you should avoid them as much as possible. But, sometimes we have no other option\\nbut to use it. Here are the only exceptions:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"for external API calls (HTTP GET/POST/\\u2026);\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"for browsers API (local/session storage, navigator\\u2026);\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u2026 and time-based stuff (\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"./jest-mock-date\"\n  }, \"date\"), \", random methods\\u2026).\")), mdx(\"p\", null, \"Talking about time, if you\\u2019re testing a timer, don\\u2019t block the pipeline for the x seconds required\\nby the timer. Mock the clock!\"), mdx(\"h2\", {\n    \"id\": \"5---avoid-assertion-in-loops-foreach\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#5---avoid-assertion-in-loops-foreach\",\n    \"aria-label\": \"5   avoid assertion in loops foreach permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"#5 - Avoid assertion in loops (forEach/\\u2026)\"), mdx(\"p\", null, \"A common error is to test a list in a loop.\"), mdx(\"p\", null, \"Example: I want to test a page that loads 30 items.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-js\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"import\"), \" fakeDataProducts \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"from\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'../fixtures'\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"it\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'should shows list of product'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" wrapper \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"await\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"render\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"ProductList\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n  fakeDataProducts\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"products\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"forEach\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"product\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"expect\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"wrapper\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"find\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"product\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"name\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"toBeInTheDocument\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"p\", null, \"What\\u2019s wrong here?\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Too many assertions\"), \": multiple assertions can potentially slow down the execution of the test\\nsuite.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Non-valuable tests\"), \": asserting the presence of one item can be a good idea. But, testing the\\npresence of each item doesn\\u2019t seem to add much value.\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Exception\"), \": When each element of the array represents a different use case.\"), mdx(\"h2\", {\n    \"id\": \"6---test-your-app-in-the-same-way-as-a-user-will-use-it\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#6---test-your-app-in-the-same-way-as-a-user-will-use-it\",\n    \"aria-label\": \"6   test your app in the same way as a user will use it permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"#6 - Test your app in the same way as a user will use it\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"The more your tests resemble the way your software is used, the more confidence they can give\\nyou.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"\\u2014 Kent C. Dodds\")), mdx(\"p\", null, \"Let say you want to login on your favourite social network. You fill your username and your\\npassword. And after that: do you search in the DOM for the button with \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"id=\\\"login-form-btn\\\"\"), \"? or do\\nyou click on the button called \\u201CLog In\\u201D? Why do you test differently?\"), mdx(\"p\", null, \"If the keyword \\u201CLog In\\u201D is already present on the page, you can query your item with accessibility\\nattribute \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"(i.e. \", mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \"aria-label\"), \", \\u2026)\"), \". In this way, you will enforce your component accessibility.\"), mdx(\"h2\", {\n    \"id\": \"7---favour-integration-tests\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#7---favour-integration-tests\",\n    \"aria-label\": \"7   favour integration tests permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"#7 - Favour integration tests\"), mdx(\"p\", null, \"You probably read Martin Fowler\\u2019s blog talking about the\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://martinfowler.com/bliki/TestPyramid.html\"\n  }, \"Testing Pyramid\"), \". In a nutshell, this blog said:\\nwrite a lot of unit tests (fast and cheap), some integration tests and a few end-to-end tests (slow\\nand expensive).\"), mdx(\"p\", null, \"But, this post was written in 2012. 8 years ago! I believe we play a different game today with\\ndifferent rules too.\"), mdx(\"p\", null, \"Unit testing a Redux/Vuex store gives me zero confidence. I\\u2019ve done it in the past. Many times\\u2026\\nbut, the number of bugs haven\\u2019t changed. Why? Because bugs and regressions are generally not in\\nsmall pieces of code. We found them at a higher level.\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/7ab5a8d1ef6b5cd3164ae2913b99cc79/unit-vs-integration-test.gif\",\n    \"alt\": \"integration test gif\"\n  }), mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"(Unit vs. Integration tests)\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Integration tests are more expensive than unit tests. But, it\\u2019s worth the trouble.\")), mdx(\"h2\", {\n    \"id\": \"8---avoid-implementation-detail\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#8---avoid-implementation-detail\",\n    \"aria-label\": \"8   avoid implementation detail permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"#8 - Avoid implementation detail\"), mdx(\"p\", null, \"Let\\u2019s say you want to test a \\u201Clike button\\u201D. You might be tempted to do something like this:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-js\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" wrapper \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"mount\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<\"), \"LikeButton \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"/\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \">\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\nwrapper\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"find\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'Like'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"simulate\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'click'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"expect\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"wrapper\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"state\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"liked\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"toBe\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token boolean\"\n  }, \"true\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"p\", null, \"What\\u2019s wrong here?\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"False positives:\"), \" (aka \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"false alarm\"), \") It looks like an error but it\\u2019s not.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Let say, you want to refactor the component. By refactoring, I mean changing the implementation,\\nnot in the behaviour or the contract (props, events\\u2026). Otherwise, it\\u2019s not a refactor.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"If you rename \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"liked\"), \" to \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"isLiked\"), \", the test will fail. And it should not. We write tests to fail\\nwhen something goes wrong. Nobody cares about a variable name! But, it\\u2019s a different story when it\\ncomes to behaviour. Only test what matters!\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"False negatives:\"), \" (test pass but it shouldn\\u2019t)\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Instead of verifying the output, we check the internals. We can\\u2019t be sure the output still works\\nas expected. This scenario can happen because we did not test the app in the same way as your\\nfinal user will. In other words, our users and other devs who are going to use this component\\ndon\\u2019t really care about the magic inside the component.\"))), mdx(\"p\", null, \"To avoid implementation detail, \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"treat your component as a black box:\"), \" only test the inputs and\\nthe outputs.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"39.86486486486486%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAACdUlEQVQozxXRzUuTARwH8K9jm6lzc75MKtKmhGVF+XIQD2kvFmKH0EOUQUFdzG7aXM4524tvMyVDKqhTkUiUSfmyl2dmswnr1KFDF0dTfAGl1KnP75nbL/z8Cx9U2jdQ5ZAASxBIZPBvYHcSWeSWhaVAEUtzpSIFzpA0V0LS3GmRZguZfNpwZAw69gPCUJGsqpORZ/kGNDuASvtm4mU7HShuH1GUdnWq3g2UYXMc2aJbtkIeJZM3KU5CCoseFe+Op8TJI2dyJ6ywD5neoVzUX7uDGvtWit7iV6HZoUSFbV1d3cmHYfSrcPW6uq6mT81BpJGgWqLAWaaZnJj0/Wg8MpYbX3+ZEZMEsOjC8vJHeTYANDa1FlY6WXew7VMBHprTcMM8DtsVyEym1uHe7q6fZot1o/fxvcG4gHkxUMzkL4iRN5nFqQTedcniUQ94/XPSntPRFO7u6Q/ZrFZuMTTfbTC041WbUQZm4OaDp/JWk6nF2ed8bulwTA7abzXsefGH/MeZ5kpjNHuSyQUmN+JRH3hzQrE12H3f2tPbb7BbzW9bmxtP1ZtGAOMLoOf1+/zzNtajYzEHtW2aL95q8A5SRBeWaDqTaVq3R9O6GE2rYzvjydHNkUSWvFjgMDJQzooMA2v0A5xaYV0+ojA+0+OcbTvngn0rq8q6mneta+FY8iNWhz5oDpGgWaP95UAJ789Gg6UcmSjif8P5LPkS1pZGc/Un2llV2xNKr7atppXbVtKVhifpKOuQcLEzgoqOv0Ad49dYEaQpZJCgCpJPs0iCZp6E1BAJ2pD0VTsvzagWRbf8R3QK2tE3t4EGxiXHNsptK1AaB/AfCZpMkqxdfoUAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/38aa989b39a9a9cf4d02e19341106fda/cbe2e/component-testing.webp 148w\", \"/static/38aa989b39a9a9cf4d02e19341106fda/3084c/component-testing.webp 295w\", \"/static/38aa989b39a9a9cf4d02e19341106fda/5ca24/component-testing.webp 590w\", \"/static/38aa989b39a9a9cf4d02e19341106fda/5f564/component-testing.webp 791w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/webp\"\n  }), \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/38aa989b39a9a9cf4d02e19341106fda/12f09/component-testing.png 148w\", \"/static/38aa989b39a9a9cf4d02e19341106fda/e4a3f/component-testing.png 295w\", \"/static/38aa989b39a9a9cf4d02e19341106fda/fcda8/component-testing.png 590w\", \"/static/38aa989b39a9a9cf4d02e19341106fda/cc8d6/component-testing.png 791w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/png\"\n  }), \"\\n          \", mdx(\"img\", {\n    parentName: \"picture\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/38aa989b39a9a9cf4d02e19341106fda/fcda8/component-testing.png\",\n    \"alt\": \"component testing\",\n    \"title\": \"component testing\",\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  }), \"\\n        \"), \"\\n    \")), mdx(\"p\", null, \"The same test, without implementation detail could be:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-js\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" spy \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" jest\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"fn\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" wrapper \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"mount\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<\"), \"LikeButton onClick\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"spy\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"/\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \">\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\nwrapper\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"find\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'Like'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"simulate\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'click'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"expect\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"wrapper\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"prop\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'aria-label'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"toEqual\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'liked'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"expect\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"spy\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"mock\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"calls\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"0\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"0\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"toBe\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token boolean\"\n  }, \"true\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"h2\", {\n    \"id\": \"9---always-green\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#9---always-green\",\n    \"aria-label\": \"9   always green permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"#9 - Always green\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"392px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"103.37837837837837%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAVABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABolQpJtZ16ieQE//EABsQAQEAAQUAAAAAAAAAAAAAAAECAAMEEiEz/9oACAEBAAEFAmyWr4tgp7a8kl5t3L6jP//EABURAQEAAAAAAAAAAAAAAAAAABEg/9oACAEDAQE/AWP/xAAVEQEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAgEBPwEj/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAERAgMhQRAScf/aAAgBAQAGPwLqrdLM2qScKVoQoQvBj3x//8QAHBABAQEAAwEBAQAAAAAAAAAAAREAITFRQdHw/9oACAEBAAE/IaGfQ/xuMDfJ+Yp9hMFeWo6RoV5m4I8GtHn3Oh6HTmrXt3//2gAMAwEAAgADAAAAEHs/QP/EABkRAAIDAQAAAAAAAAAAAAAAAAABEBEhMf/aAAgBAwEBPxCw3ouR/8QAGREBAAIDAAAAAAAAAAAAAAAAAQARECEx/9oACAECAQE/EKWEDUe4/8QAHBABAQEBAAIDAAAAAAAAAAAAAREAMUFRcZHB/9oACAEBAAE/EImiQFcldYKQ4CiBRA8ej1pZMElOYRsFE9bPvX5Uj89/cocKSDsXmiaEfAzNaVKu/9k=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/25939b68a707b41c0fe9418b278a09b1/cbe2e/kill-all-humans.webp 148w\", \"/static/25939b68a707b41c0fe9418b278a09b1/3084c/kill-all-humans.webp 295w\", \"/static/25939b68a707b41c0fe9418b278a09b1/86099/kill-all-humans.webp 392w\"],\n    \"sizes\": \"(max-width: 392px) 100vw, 392px\",\n    \"type\": \"image/webp\"\n  }), \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/25939b68a707b41c0fe9418b278a09b1/a80bd/kill-all-humans.jpg 148w\", \"/static/25939b68a707b41c0fe9418b278a09b1/1c91a/kill-all-humans.jpg 295w\", \"/static/25939b68a707b41c0fe9418b278a09b1/3324e/kill-all-humans.jpg 392w\"],\n    \"sizes\": \"(max-width: 392px) 100vw, 392px\",\n    \"type\": \"image/jpeg\"\n  }), \"\\n          \", mdx(\"img\", {\n    parentName: \"picture\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/25939b68a707b41c0fe9418b278a09b1/3324e/kill-all-humans.jpg\",\n    \"alt\": \"Bender kill all human\",\n    \"title\": \"Bender kill all human\",\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  }), \"\\n        \"), \"\\n    \")), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"I remember when I joined a company a few years ago. On Day One, I couldn\\u2019t start the application.\\nAfter investigations, it turns out someone had forgotten a \", mdx(\"code\", {\n    parentName: \"em\",\n    \"className\": \"language-text\"\n  }, \";\"), \" in a SQL file and pushed it to\\nmaster. The application was broken because of a god damn semicolon. With basic tooling, those kinds\\nof problems should never happen.\")), mdx(\"p\", null, \"If you ask a dev to run the run manually the test before opening a pull request, it\\u2019s not gonna\\nwork. Humans are fallible. Plus, this is a dumb job. Better delegate this job to a robot, they are\\ncheap and never lie. Automated jobs will ensure your tests are always green.\"), mdx(\"p\", null, \"Because I don\\u2019t even trust myself, all of my side projects have CI enabled by default. The only way\\nfor me to merge my own code is\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/maxpou/gatsby-starter-morning-dew/pulls?q=is%3Apr+is%3Aclosed\"\n  }, \"to open a pull request and get a green build\"), \".\"), mdx(\"h2\", {\n    \"id\": \"10---write-tests-for-confidence-not-for-metrics\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#10---write-tests-for-confidence-not-for-metrics\",\n    \"aria-label\": \"10   write tests for confidence not for metrics permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"#10 - Write tests for confidence, not for metrics\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u201CWhen a measure becomes a target, it ceases to be a good measure\\u201D\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"\\uFF0D Goodhart\\u2019s law\")), mdx(\"p\", null, \"I see a lot of people writing \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Coverage-Driven Test\\u2122\\uFE0F\"), \". Because their manager asked to, or because\\nthey want to show off with a \\u201C100% code coverage\\u201D on the GitHub repository.\"), mdx(\"p\", null, \"In my opinion, this is a really bad idea. And for a few reasons:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Code covered does not necessarily mean code tested;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"High code coverage gives the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"illusion of quality\"), \". But, you can have a high percentage with\\nirrelevant tests that does nothing except bumping the score (cf. implementation detail);\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Dev doesn\\u2019t write tests for being confident but to satisfy a metric.\")), mdx(\"p\", null, \"This last point is very important. By taking the problem on the wrong side, we forgot why we write\\ntests. We should all write tests for \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"confidence\"), \". Confidence for shipping code that works as\\ndescribed and also confidence that the behaviour will remain unchanged 6 months later when you or a\\ncolleague will work on this part of the application.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Not all code needs tests.\"), \" Expecting the same amount of test in your App hidden settings and in\\nthe payment page is absolute nonsense. Writing tests is an investment. If tests don\\u2019t provide any\\nvisible ROI (Return On Investment), skip them. Except, if you\\u2019re working on a library (open source\\nor not).\"), mdx(\"hr\", null), mdx(\"p\", null, \"Thanks for reading this article \\uD83E\\uDD18\"), mdx(\"p\", null, \"You can leave a message on the section below if you think I forgot an important point\\u2026 or if you\\njust want to insult me :)\"), mdx(\"p\", null, \"This post was the first one of my \\u201Ctesting series\\u201D. In the next weeks/months, I plan to talk about\\ncode coverage, good practices in Vue.js testing and also how to test JAMstack/Gatsby applications.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"10 Tips for Writing Better Tests","date":"2020-02-04T00:00:00.000Z","slug":"10-tips-write-better-tests","language":"en","tags":["Testing"],"description":null,"cover":{"publicURL":"/static/e8d3f7baadbffd90c014bea3fb937a9d/cover.jpeg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#182818","images":{"fallback":{"src":"/static/e8d3f7baadbffd90c014bea3fb937a9d/a5dc1/cover.jpg","srcSet":"/static/e8d3f7baadbffd90c014bea3fb937a9d/eaf73/cover.jpg 412w,\n/static/e8d3f7baadbffd90c014bea3fb937a9d/28160/cover.jpg 824w,\n/static/e8d3f7baadbffd90c014bea3fb937a9d/a5dc1/cover.jpg 1647w","sizes":"(min-width: 1647px) 1647px, 100vw"},"sources":[{"srcSet":"/static/e8d3f7baadbffd90c014bea3fb937a9d/75af3/cover.webp 412w,\n/static/e8d3f7baadbffd90c014bea3fb937a9d/d9c7f/cover.webp 824w,\n/static/e8d3f7baadbffd90c014bea3fb937a9d/6790f/cover.webp 1647w","type":"image/webp","sizes":"(min-width: 1647px) 1647px, 100vw"}]},"width":1647,"height":1103}}},"imageShare":{"publicURL":"/static/32b229c9088286e7f1af1fe4bf249bce/10-tips-write-better-tests-share.png"},"translations":null,"redditPostId":null}}},"pageContext":{"slug":"10-tips-write-better-tests","previous":{"fileAbsolutePath":"/home/runner/work/maxpou.fr/maxpou.fr/content/posts/2021/2021-05-27-vue-js-module-architecture/index.mdx","frontmatter":{"title":"Vue.js: Let's Scale!","slug":"vue-js-module-architecture","tags":["Vue.js"],"language":"en","featured":true,"cover":{"publicURL":"/static/0efc7f7b0b5eeea26232de8583ee1aa7/cover.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#084848","images":{"fallback":{"src":"/static/0efc7f7b0b5eeea26232de8583ee1aa7/a962d/cover.jpg","srcSet":"/static/0efc7f7b0b5eeea26232de8583ee1aa7/da65b/cover.jpg 160w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/f6fcd/cover.jpg 320w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/a962d/cover.jpg 640w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/f3dc5/cover.jpg 1280w","sizes":"(min-width: 640px) 640px, 100vw"},"sources":[{"srcSet":"/static/0efc7f7b0b5eeea26232de8583ee1aa7/405d4/cover.webp 160w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/dde70/cover.webp 320w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/18e38/cover.webp 640w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/f121e/cover.webp 1280w","type":"image/webp","sizes":"(min-width: 640px) 640px, 100vw"}]},"width":640,"height":426}}},"unlisted":null},"timeToRead":5,"excerpt":"Just like React, Vue.js is a great tool to build web applications. In this article, I will share a\nproject I have been working on over theâ€¦"},"next":{"fileAbsolutePath":"/home/runner/work/maxpou.fr/maxpou.fr/content/posts/2021/2021-04-15-lesson-learned-large-vue-app/index.mdx","frontmatter":{"title":"Lessons Learned by Maintaining a Large Codebase","slug":"lesson-learned-maintaining-large-vue-js-codebase","tags":["Vue.js"],"language":"en","featured":true,"cover":{"publicURL":"/static/673592504f615d2c5bf82f6985d6a663/cover.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#d8d8d8","images":{"fallback":{"src":"/static/673592504f615d2c5bf82f6985d6a663/e70fc/cover.jpg","srcSet":"/static/673592504f615d2c5bf82f6985d6a663/da65b/cover.jpg 160w,\n/static/673592504f615d2c5bf82f6985d6a663/f6fcd/cover.jpg 320w,\n/static/673592504f615d2c5bf82f6985d6a663/e70fc/cover.jpg 640w,\n/static/673592504f615d2c5bf82f6985d6a663/f3dc5/cover.jpg 1280w","sizes":"(min-width: 640px) 640px, 100vw"},"sources":[{"srcSet":"/static/673592504f615d2c5bf82f6985d6a663/405d4/cover.webp 160w,\n/static/673592504f615d2c5bf82f6985d6a663/dde70/cover.webp 320w,\n/static/673592504f615d2c5bf82f6985d6a663/62859/cover.webp 640w,\n/static/673592504f615d2c5bf82f6985d6a663/f121e/cover.webp 1280w","type":"image/webp","sizes":"(min-width: 640px) 640px, 100vw"}]},"width":640,"height":426.99999999999994}}},"unlisted":null},"timeToRead":3,"excerpt":"I've been maintaining a massive Vue.js codebase for the last 3 years. Here are 9 lessons I've\nlearned along the way. Not really mistakes Iâ€¦"}}},"staticQueryHashes":["2709979211"]}