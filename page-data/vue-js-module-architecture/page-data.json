{"componentChunkName":"component---src-templates-blog-post-js","path":"/vue-js-module-architecture","result":{"data":{"post":{"excerpt":"Just like React, Vue.js is a great tool to build web applications. In this article, I will share a\nproject I have been working on over theâ€¦","body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"layout\": \"post\",\n  \"title\": \"Vue.js: Let's Scale!\",\n  \"description\": \"Architecture and technical decision behind a big Vue.js application.\",\n  \"slug\": \"vue-js-module-architecture\",\n  \"date\": \"2021-05-27T00:00:00.000Z\",\n  \"cover\": \"./cover.jpg\",\n  \"language\": \"en\",\n  \"tags\": [\"Vue.js\"],\n  \"featured\": true,\n  \"redditPostId\": \"nmw3eu\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Just like React, Vue.js is a great tool to build web applications. In this article, I will share a\\nproject I have been working on over the last 3 years. I will go through different technical points\\nsuch as the modular architecture we use, micro-frontends, component\\u2019s state management, TypeScript,\\nVue 3 and more. Keep in mind that there is not one but many ways to scaffold a Vue app. This is one\\nof them.\"), mdx(\"h2\", {\n    \"id\": \"how-big\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#how-big\",\n    \"aria-label\": \"how big permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"How big?\"), mdx(\"p\", null, \"For the last 3 years, I have been working on a large vue.js application. If you\\u2019re curious about the\\nproject, here are some numbers:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"+5k vue&js files / +650k lines of codes;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"10 years old codebase. Vue.js landed in December 2016;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"we have 2 repos: the app monolith + 1 monorepo (contains ~40 npm packages);\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"it\\u2019s a Single Page Application (SPA) with +30 screens.\")), mdx(\"p\", null, \"As I often say: this application is not big. It\\u2019s \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"too big\"), \".\"), mdx(\"h2\", {\n    \"id\": \"modules-everywhere\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#modules-everywhere\",\n    \"aria-label\": \"modules everywhere permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Modules everywhere\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"77.02702702702703%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAQACBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe2iZmP/xAAWEAEBAQAAAAAAAAAAAAAAAAAQATH/2gAIAQEAAQUCrr//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPwGH/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BJ//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABoQAAICAwAAAAAAAAAAAAAAAAABITFRcYH/2gAIAQEAAT8hqoFtDseR0dn/2gAMAwEAAgADAAAAEDsf/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/EFbP/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAh/9oACAECAQE/EIC//8QAGxAAAgMAAwAAAAAAAAAAAAAAAAERITFRgbH/2gAIAQEAAT8QtHKOHA0L0Q1s6FSKSrKFWCzM/9k=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/ad548394bcf21be0ff109e7e79b8a9e2/cbe2e/diagram.webp 148w\", \"/static/ad548394bcf21be0ff109e7e79b8a9e2/3084c/diagram.webp 295w\", \"/static/ad548394bcf21be0ff109e7e79b8a9e2/5ca24/diagram.webp 590w\", \"/static/ad548394bcf21be0ff109e7e79b8a9e2/dad35/diagram.webp 885w\", \"/static/ad548394bcf21be0ff109e7e79b8a9e2/2baf0/diagram.webp 1180w\", \"/static/ad548394bcf21be0ff109e7e79b8a9e2/e3ca4/diagram.webp 1812w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/webp\"\n  }), \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/ad548394bcf21be0ff109e7e79b8a9e2/a80bd/diagram.jpg 148w\", \"/static/ad548394bcf21be0ff109e7e79b8a9e2/1c91a/diagram.jpg 295w\", \"/static/ad548394bcf21be0ff109e7e79b8a9e2/1c72d/diagram.jpg 590w\", \"/static/ad548394bcf21be0ff109e7e79b8a9e2/a8a14/diagram.jpg 885w\", \"/static/ad548394bcf21be0ff109e7e79b8a9e2/fbd2c/diagram.jpg 1180w\", \"/static/ad548394bcf21be0ff109e7e79b8a9e2/f6a0e/diagram.jpg 1812w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/jpeg\"\n  }), \"\\n          \", mdx(\"img\", {\n    parentName: \"picture\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/ad548394bcf21be0ff109e7e79b8a9e2/1c72d/diagram.jpg\",\n    \"alt\": \"architecture diagram\",\n    \"title\": \"architecture diagram\",\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  }), \"\\n        \"), \"\\n    \")), mdx(\"p\", null, \"We adopted a modularised architecture for this app. In a nutshell, 1 module = 1 business part of the\\napp. And a module is something that looks like a standalone Vue application. We consider modules as\\nself-contained which can potentially be exported. By the way, some are exported as npm packages\\n(\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/monorepo-pros-and-cons\"\n  }, \"in a monorepo\"), \").\"), mdx(\"p\", null, \"Modules are not allowed to talk to each other\\u2026 in theory. If 2 modules have to communicate, we can\\nuse the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\"\n  }, \"CustomEvent API\"), \"\\nfrom the browser and dispatch an event via the window object.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\uD83D\\uDE4B\\u200D\\u2640\\uFE0F How do you register modules?\")), mdx(\"p\", null, \"With the vue-router. A module loosely corresponds to a single top-level URL root. With this trick,\\nmodules are \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://router.vuejs.org/guide/advanced/lazy-loading.html\"\n  }, \"\\u201Clazy loaded\\u201D\"), \". So users\\ndon\\u2019t load the entire app when the application loads.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-js\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// if module is a npm package\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"ProductList\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"import\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'@company/product-list'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// or if the module is local\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"ProductList\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"import\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'./path/to/product-list'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\n\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" router \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"VueRouter\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"routes\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"path\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'/product-list'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"component\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" ProductList \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"path\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'/payments'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"component\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" Payments \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"path\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'/user-settings'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"component\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" UserSettings \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// ... other modules go here!\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u261D\\uFE0F Granularity is important!\"), mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Among our ~40 packages, ~30 are modules. And we haven\\u2019t externalized everything yet. A single\\nbusiness part of the app is sometimes splitted into multiple modules. We didn\\u2019t discuss the scope of\\na module before creating it. In my opinion, we have too many modules today and a lot of them should\\nbe merged. If you decide to go with this approach, don\\u2019t make the same mistake we did.\"), mdx(\"h2\", {\n    \"id\": \"micro-frontends\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#micro-frontends\",\n    \"aria-label\": \"micro frontends permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Micro-frontends?\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"50%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAADLUlEQVQozy3IW0xTBxjA8U9KCGFjJBvbMN4Rg2JJBntw8dEIMkhMuMnKRWitXRYTHaBSKoGadEGL1loKbtAeWmhpy2lrL6el0J5aWpGSJZuYGE2MysMSLxROj2gp1eVbSPbwf/j9YT4QLrFNWeUfEGEp/GeenbTdNA0TuYgIlJO6phse5S4+eQhbjvhDx8lJS5dnMQQhT+Dw3SmbVPtje/qL8KMcl90pvyNTfAumJ3NctUGr+Ug9BRcyOUNGYqyA/PmzBzVy0DrMwzVDl/YdPPp9BgBss/xFVwzo7yjmx9wwtjR76PakZgSvPodexPQRq8ECFw9mQ+y0UbLKM8jjZ8lqRmARxHgTSoZv5jEisvJNg+63Db5VeLn1XJ5eJMtnmg1nV5rGO1gR+QPDN9e+5um6WeFU2eoZU91bnv4qK5xqAkbswXjfDK5ecESYLuofVjqDax2uv1fbXcGtz1724GB9V0FIpCp/L/EiK6Ewfo60sGL3q3dXPBj/1X4/3ul8tt43jWynYwWwafQGtmoNWDfYgKd+P59qIWxYM8THOvVpFIx5sUXXL/2pbcfdU9dLE3wXGRNRc0yDuy1+xjUQE3ija42eiyyPlMSEruBas1sGoMN+0OAgGFGR58FbOx2o+sqNt2AclTCCo2DA7kKhZof0ekXxIrVzKDmdZk34shtfKwrF616ONUlnNj6eL/4l7uU4UsG0Hjhh8ssaLE5V2aRP2WRzK9tIu7rV7lSWmaYVZeZZdTnpF3OO27++pzlU9WGhBDcXSjFBb6c37pUwqeh3mJzbFVyPHF7ajB7BZLiAhZcUZ1k1XhjDIKz8XwxD6StIw1v0QxyDsGTsL+Wa+w4cQBq6cQZuYgAq0A8dmx6YQB/U4SzU4wyoMQAiWPZ9wVLU/n8/0RmJ1P3diVRkz0YqsiuRpLMS731puOHnLEfl2UVpkhfFQOAfoMFx0KM2z4lEvguJLCsSQCABo2gGAiWANBRgALgm2fZKreTLWrP086qJ3pyT9v5vyjEIRcnAtv3hSkjPH3iQmzmRrM40fqzNvRZtLxqYE3OVC517ZYGeHNUzQabxU32Wfv3Yf+Ykyt9HFEZ4AAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/a9a229e8d270406a797903d6189140c5/cbe2e/micro-fe.webp 148w\", \"/static/a9a229e8d270406a797903d6189140c5/3084c/micro-fe.webp 295w\", \"/static/a9a229e8d270406a797903d6189140c5/5ca24/micro-fe.webp 590w\", \"/static/a9a229e8d270406a797903d6189140c5/dad35/micro-fe.webp 885w\", \"/static/a9a229e8d270406a797903d6189140c5/2baf0/micro-fe.webp 1180w\", \"/static/a9a229e8d270406a797903d6189140c5/d822c/micro-fe.webp 1788w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/webp\"\n  }), \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/a9a229e8d270406a797903d6189140c5/12f09/micro-fe.png 148w\", \"/static/a9a229e8d270406a797903d6189140c5/e4a3f/micro-fe.png 295w\", \"/static/a9a229e8d270406a797903d6189140c5/fcda8/micro-fe.png 590w\", \"/static/a9a229e8d270406a797903d6189140c5/efc66/micro-fe.png 885w\", \"/static/a9a229e8d270406a797903d6189140c5/c83ae/micro-fe.png 1180w\", \"/static/a9a229e8d270406a797903d6189140c5/41870/micro-fe.png 1788w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/png\"\n  }), \"\\n          \", mdx(\"img\", {\n    parentName: \"picture\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/a9a229e8d270406a797903d6189140c5/fcda8/micro-fe.png\",\n    \"alt\": \"Comparison between classical SPA architecture and micro frontends\",\n    \"title\": \"Comparison between classical SPA architecture and micro frontends\",\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  }), \"\\n        \"), \"\\n    \")), mdx(\"p\", null, \"Our module architecture shows some limits. Because we only export one app, big changes are nearly\\nimpossible. Let\\u2019s say we want to experiment with Vue.js 3, we will have to ensure that our few\\nthousand vue files are compatible. And this scenario happens for every major change we want to do. I\\ntried once to update our testing library. Out of our ~2200 tests, 500 were failing.\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/3-tips-scaling-vue-application#tip-2-consider-micro-frontends\"\n  }, \"Micro frontends\"), \" appear to be a\\ngood fix for these problems. Because we could gradually update our dependencies. But nothing in life\\ncomes free. The biggest downside I see is potential inconsistencies across our app. Some teams will\\nuse the latest version of every tool where others will not update their dependencies. It can lead to\\n\\u201Cmismatched dependencies\\u201D, one team using v1 of our common component and another team using the v2.\\nThis architectural style also brings interesting challenges regarding the deployment. Deploying one\\napplication is very different from deploying multiple applications.\"), mdx(\"h2\", {\n    \"id\": \"webpack-5--module-federation\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#webpack-5--module-federation\",\n    \"aria-label\": \"webpack 5  module federation permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Webpack 5 & Module federation\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Module federation allows a JavaScript application to dynamically run code from another\\nbundle/build, on client and server\")), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"47.2972972972973%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAACQklEQVQoz0WQzUtUURjGj42o1aaPRQR94ERpWv9Cf4Lu2jstNNBFBAZi0CYIbJNREBg1zZTlmNlCWpjhIsjP1KJcKDPieOfDq85cx7n33HvueZ64o+Ti4Rze98fv5X1FbQx79cPwT7yDWraoUllTTUwvqsnZX2rmz4qzbnlcKbFHPELLhQR5LA634weUJtVS0lATUwvq2/SiSuYLqqioRFUUUrwC6+KgKUkSLO7scNvMU0lbaZCmg17Rh9baGCheUN+dRQDSc13ubJksbJuk9is1cWWETtMo2TxK5B2gYjyMJ31wo8xe0e+2Ng9Lno45/oOffqXv45BFEADi3KDrXHwveTnhImuzUte60gMBTyrQCIRPvNaGhOSpN45/f35fqA446IMEwpNv1V7jkK3Pf1DKKNMPBmsEw4M/HZdkVrJHPEbL9c/g2SG69+agSPo+6AMIuP8RIgpWvQaPx8GsvX9DXdlHU06usji2TOPv9kPxnDcDRgyA+zcE1cHOanWL5Y9LdOfSDIS3j0TRVRNj52CSnV8z6Pyyga4xg+1DI8m26MDcnf4Z/6ro5hnxkh3iGdtujDMyscnISJqR0Twjn+bLbfGn39sT45lbgVBUR7Woi1OkShSKFPaeEuybqvHzVsNmOt1Ao9RIw7xGmaunmwszkw37i7kwf+fCXMiEmbfrc+mNJuasS4EwVB3VoaNxhFK7COmSW8vsrsC61Y2CQ+xKG2ZZ6lRBqlTRU2tFT6cKHtOWh7WCh/WiB0t6sJzgdf8BuBREViByuxkAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/0c4a2a73ee6b1af6f7d2a343fc002fb2/cbe2e/wp5-mod-fed.webp 148w\", \"/static/0c4a2a73ee6b1af6f7d2a343fc002fb2/3084c/wp5-mod-fed.webp 295w\", \"/static/0c4a2a73ee6b1af6f7d2a343fc002fb2/5ca24/wp5-mod-fed.webp 590w\", \"/static/0c4a2a73ee6b1af6f7d2a343fc002fb2/dad35/wp5-mod-fed.webp 885w\", \"/static/0c4a2a73ee6b1af6f7d2a343fc002fb2/2baf0/wp5-mod-fed.webp 1180w\", \"/static/0c4a2a73ee6b1af6f7d2a343fc002fb2/4c8e9/wp5-mod-fed.webp 1696w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/webp\"\n  }), \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/0c4a2a73ee6b1af6f7d2a343fc002fb2/12f09/wp5-mod-fed.png 148w\", \"/static/0c4a2a73ee6b1af6f7d2a343fc002fb2/e4a3f/wp5-mod-fed.png 295w\", \"/static/0c4a2a73ee6b1af6f7d2a343fc002fb2/fcda8/wp5-mod-fed.png 590w\", \"/static/0c4a2a73ee6b1af6f7d2a343fc002fb2/efc66/wp5-mod-fed.png 885w\", \"/static/0c4a2a73ee6b1af6f7d2a343fc002fb2/c83ae/wp5-mod-fed.png 1180w\", \"/static/0c4a2a73ee6b1af6f7d2a343fc002fb2/bce1e/wp5-mod-fed.png 1696w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/png\"\n  }), \"\\n          \", mdx(\"img\", {\n    parentName: \"picture\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/0c4a2a73ee6b1af6f7d2a343fc002fb2/fcda8/wp5-mod-fed.png\",\n    \"alt\": \"Apps containers consume the same component library container!\",\n    \"title\": \"Apps containers consume the same component library container!\",\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  }), \"\\n        \"), \"\\n    \"), \" \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"The same\\ncomponent library container can be shared across multiple \\u201Capp containers\\u201D\")), mdx(\"p\", null, \"If you have 2 microservices, having your favourite framework installed twice is not a big deal.\\nUsers won\\u2019t perceive it. But it\\u2019s a different story on the frontend side. If 2 micro frontends use\\nthe same frameworks and libraries, the user will download everything twice.\"), mdx(\"p\", null, \"With Webpack 5 and the module federation plugin, it\\u2019s now possible to \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\u201Cshare code\\u201D\"), \" between\\ncontainers (or pages/builds). So if your component library is a standalone container, you can deploy\\na new version of it without redeploying all the micro frontends.\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Note: at the moment, this part is still in the \\u201Cinvestigation stage\\u201D.\")), mdx(\"h2\", {\n    \"id\": \"state-management-and-vuex\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#state-management-and-vuex\",\n    \"aria-label\": \"state management and vuex permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"State management and Vuex\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"54.05405405405405%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACw0lEQVQoz2VSWWhTQRQ97yVNjK1g2ibz0jS19aMgxI1WEUQqioUKIrj7oYhfwQ0hiCi2bqhYjU3fnbSJy69Waqn6VUQRF9SPQsWYzrw0uC+4gCLihz8j8yKiOHAZuNxzOOfcC/z1LC7BSMIi4VYNn8DC9E2DcYkQd9YxLh/X8mIsyEvo6LmGaj6BKBVQR+NgJPDP0w0NjJBwB2KUr6ihohd9HwIz+Cia7Mc7IyQ+TbfH4rigDPR9qQjykq/JHvufcG76LqbykqsukHmNOb33PYxLxyIxgkGFoaNb/SoOY3VqwFQbYar1MBb13GiI0Ph3xmUfc50JT9kmCURoXP+GxYWnIzUMZH/66ulpLkb5LpxVSHanTZxVnuVnhoFzysBFhcSpbGWUCrkwdzaHuKPFmLuG2v8QujnVUQErUkNVe0+ersKwAvq/wpd5E6jkL7wapGtt6pKhtgN4pNBsjy4N8lJjtetOGLV2ySU0Qryoh5ujVEiuTg3U4LzSfRPZn+bkzCvUU34aI5m0SNS0pu+4ZG09IzGLhGJcXilblp5q+5lLqPOCxcVhxqVqTd+Zj+wPIKfMlvRdz8zeh6jMvFylwSHudOCcwvUjm/3x3gc+i8QGRnJ+GS+NkD3unorOTkueFuZySbz34RS1A57p9pihdgNqGzyZ43saavnE4hjlAyoJb8uZW5jCn0/WuGi/m58/TKK8ab1ZRmJSXUYgzB14+VvvyOENk/Qy1P5GfOxsafp2IJ7Y3t0HXFZQCZgqAdTbeV+w/zkiGkciUOaR7v3NYSTeMRIdv7PI1FHhdveJzgq8V3jVtaDqfec8tiY14L1wbJdXxWHGKD8U5s5gLS/q+UZGwmEkNv1WKGYxkm8ZyXaXkMucReLe/UMrA2pf2O90tfk/H5jtfdfZGnhycFlANcKMUuEq4/J6+VyEJnzJSG7RCn8BrVFdJBHzV0EAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/80eb99103983316511cefc0f9e936326/cbe2e/vuex.webp 148w\", \"/static/80eb99103983316511cefc0f9e936326/3084c/vuex.webp 295w\", \"/static/80eb99103983316511cefc0f9e936326/5ca24/vuex.webp 590w\", \"/static/80eb99103983316511cefc0f9e936326/dad35/vuex.webp 885w\", \"/static/80eb99103983316511cefc0f9e936326/2baf0/vuex.webp 1180w\", \"/static/80eb99103983316511cefc0f9e936326/e5c51/vuex.webp 1350w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/webp\"\n  }), \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/80eb99103983316511cefc0f9e936326/12f09/vuex.png 148w\", \"/static/80eb99103983316511cefc0f9e936326/e4a3f/vuex.png 295w\", \"/static/80eb99103983316511cefc0f9e936326/fcda8/vuex.png 590w\", \"/static/80eb99103983316511cefc0f9e936326/efc66/vuex.png 885w\", \"/static/80eb99103983316511cefc0f9e936326/c83ae/vuex.png 1180w\", \"/static/80eb99103983316511cefc0f9e936326/21482/vuex.png 1350w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/png\"\n  }), \"\\n          \", mdx(\"img\", {\n    parentName: \"picture\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/80eb99103983316511cefc0f9e936326/fcda8/vuex.png\",\n    \"alt\": \"Vuex\",\n    \"title\": \"Vuex\",\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  }), \"\\n        \"), \"\\n    \")), mdx(\"p\", null, \"Vuex provides a handy way to manage the state between components. In the beginning, I really liked\\nit\\u2026 but over time, this feeling faded out. Here are a few reasons:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"devs tend to put\\n\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/3-tips-scaling-vue-application#tip-3-be-kind-with-your-store-vuex\"\n  }, \"everything in the store\"), \";\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"the store makes your app\\n\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/vue-js-testing-library#testing-the-store-with-vuex\"\n  }, \"harder to test (integration/unit)\"), \";\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"scoped stores are hard to unregister. Unnecessary data can be kept in memory, sometimes causing\\nstate-sync issues;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"if you have +10 mutation when page load, time travel (via devtools) does not work well;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"dead code in state/mutation/actions is hard to identify.\")), mdx(\"p\", null, \"I mentioned earlier, we splitted our app into small modules. Since our modules are like a small\\n\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"vue-cli\"), \" app with a few pages only, \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"controlling the pages state with a Vuex store does not make a\\nlot of sense at the end\"), \".\"), mdx(\"p\", null, \"I stopped using Vuex in modules, something like 2y ago. So far, so good. I found the code more\\nreadable and more maintainable. However, I still use it for high-level stuff like i18n and user\\nsettings.\"), mdx(\"h2\", {\n    \"id\": \"what-about-typescript\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#what-about-typescript\",\n    \"aria-label\": \"what about typescript permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"What about TypeScript?\"), mdx(\"p\", null, \"A few years ago, a colleague wanted to introduce TypeScript. After many debates, we ended up with\\nthis decision: \\u201CTS is cool and static type checking can be beneficial for such a big codebase.\\nHowever, \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"adding it would require too much effort\"), \". The return of investment is not worthy\\u201D.\"), mdx(\"p\", null, \"It might change with Vue 3. Integration with this language looks very promising!\"), mdx(\"h2\", {\n    \"id\": \"what-about-vue-3\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#what-about-vue-3\",\n    \"aria-label\": \"what about vue 3 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"What about Vue 3?\"), mdx(\"p\", null, \"I see two main reasons to think about Vue.js 3: Performance improvements and Composition API.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Performance improvements\"), \": it\\u2019s (almost) always a good thing to thrive for performances. But in\\nthis case, I don\\u2019t think it will solve our problems. It\\u2019s like if you replace your car with a\\nFerrari to get your coffee at the end of the road. But the thing is, we live on the 6th floor with\\nno elevator.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"Our bottleneck is not in the component rendering but in the amount of code the browser has to\\nparse before rendering the page. Deleting code is not as fancy as bumping a framework version.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Composition API\"), \" (Hooks made in Vue): The feature we were all looking for, when React added\\nhooks ~2y ago. In a nutshell, the Composition API provides a lot of value when you want to reuse\\nsome logic or when you struggle to read large components. Much like with Mixins, you can extract\\ncomponent logic into a file. Then you can \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"compose\"), \" your component with this logic. If you, like\\nme, can\\u2019t wait to use it, there\\u2019s a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/vuejs/composition-api\"\n  }, \"plugin for Vue 2.x\"), \"\\nwhich seems to be stable enough to go to\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/vuejs/composition-api/issues/527\"\n  }, \"production\"), \".\"))), mdx(\"p\", null, \"For these reasons, \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"I don\\u2019t think\"), \" we will see Vue.js 3 this year. But the Composition API will\\nprobably arrive soon in the codebase.\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Edit: Vue team is working on\\n\", mdx(\"a\", {\n    parentName: \"em\",\n    \"href\": \"https://twitter.com/vuejs/status/1388144585600274433\"\n  }, \"compatibility bridges\"), \" between versions 2\\nand 3. It might change!\")), mdx(\"h2\", {\n    \"id\": \"component-library-and-storybook\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#component-library-and-storybook\",\n    \"aria-label\": \"component library and storybook permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Component library and Storybook\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"53.37837837837838%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABpklEQVQoz2VTW27cMAz0/U/QC/QmOUGB/DYfCZJN4rWtFylRlCcgvXA2rQDC1oOjmSE1rSGBa0NkwUcW1CZo0v1r64UbuipUx229ebQmKLXhkhW5doiIn53+fgS8E3AJjKfnV3CtsDHG8NAxsO/7j2it+Ze4ImaGjh1jKKp0TL8fE379ITy8KgD1m8cdiI17MFUFc0XvChLfPfdEB6aX90/ETJCuLiUsK0bXk2Xv/Tuhd5+nlEHM2If+uNwB364BW6lgUb+NmdH1AKm1Ipfi4MYspuQAORcPaib1jmEfmOY1IpKAWne5y7p5Yi7kSVuIzqYQI+WCZuYTuY9Vxv+AL5cZSyRQFT+8bsGBraoGZHOTWq3iRF6kfAPmbv7iHC553hJKGy7ZDn3OV4SYHISIsYVwJHN1tt4uhVyF2WORc3bGVodpiQW56iFZxMFMmpl/MNxOQLPDmNq6FTDGhHmekVLy801ugKUpuHXvwWULLtMSDXi+LoeHhfzfgE267VvRjJn3q976cMvsDE2ydXvK2X0iIm8PY2cvJBQGVXs142z6fxveJH8B4PZZsPEVWwEAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/66f2a6aec4d5c239309ba16f7546972b/cbe2e/storybook.webp 148w\", \"/static/66f2a6aec4d5c239309ba16f7546972b/3084c/storybook.webp 295w\", \"/static/66f2a6aec4d5c239309ba16f7546972b/5ca24/storybook.webp 590w\", \"/static/66f2a6aec4d5c239309ba16f7546972b/dad35/storybook.webp 885w\", \"/static/66f2a6aec4d5c239309ba16f7546972b/2baf0/storybook.webp 1180w\", \"/static/66f2a6aec4d5c239309ba16f7546972b/c3872/storybook.webp 2416w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/webp\"\n  }), \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/66f2a6aec4d5c239309ba16f7546972b/12f09/storybook.png 148w\", \"/static/66f2a6aec4d5c239309ba16f7546972b/e4a3f/storybook.png 295w\", \"/static/66f2a6aec4d5c239309ba16f7546972b/fcda8/storybook.png 590w\", \"/static/66f2a6aec4d5c239309ba16f7546972b/efc66/storybook.png 885w\", \"/static/66f2a6aec4d5c239309ba16f7546972b/c83ae/storybook.png 1180w\", \"/static/66f2a6aec4d5c239309ba16f7546972b/80521/storybook.png 2416w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"type\": \"image/png\"\n  }), \"\\n          \", mdx(\"img\", {\n    parentName: \"picture\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/66f2a6aec4d5c239309ba16f7546972b/fcda8/storybook.png\",\n    \"alt\": \"Storybook example\",\n    \"title\": \"Storybook example\",\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  }), \"\\n        \"), \"\\n    \"), \" \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Storybook is a great bridge between the frontend and the UX\\nteam. We heavily rely on this tool and so far, we\\u2019re very happy to use it.\")), mdx(\"p\", null, \"Even if you start from an existing component library, you might have to build your reusable\\ncomponents. In one place we put all our components, including very specific components into our\\napplication. I tend to consider this package as an \\u201Copen-source package\\u201D, something that anybody\\ncould reuse.\"), mdx(\"p\", null, \"When we have to build a new screen it\\u2019s pretty much like doing a lego construction. There\\u2019s a kind\\nof component box and developers pick what they need. Most of the time, writing CSS is not needed.\"), mdx(\"h2\", {\n    \"id\": \"testing\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#testing\",\n    \"aria-label\": \"testing permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Testing\"), mdx(\"p\", null, \"We have 3 different types of tests:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Static code analysis\"), \" (with ESLint): We created a set of rules on the top of Airbnb\\u2019s config.\\nThis configuration is used everywhere in the app. It prevents us from pushing dead or misformatted\\ncode to the main branch. By the way, having a shareable ESlint config is a good way to\\n\", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/lesson-learned-maintaining-large-vue-js-codebase#close-the-door-on-bikeshedding\"\n  }, \"close the door on bikeshedding\"), \"!\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Unit tests\"), \" (with Jest): Less than 10% of our \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"xxx.test.js\"), \" are unit tests. It\\u2019s mostly used to\\ntest the business part of the app. Because writing integration tests would require too many\\nscenarios and test files would end up being unnecessarily verbose. Also, integration tests are\\nslower than unit tests. By the way, we don\\u2019t unit test components or Vuex stores.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Integration tests\"), \" (with Vue Testing Library): where the magic happens. We really like this\\nlibrary, because it provides \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/vue-js-testing-library\"\n  }, \"a very straightforward way\"), \" to test our\\napp.\")), mdx(\"p\", null, \"At the moment, we have a total of ~3100 unit&integration tests.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Vue.js: Let's Scale!","date":"2021-05-27T00:00:00.000Z","slug":"vue-js-module-architecture","language":"en","tags":["Vue.js"],"description":"Architecture and technical decision behind a big Vue.js application.","cover":{"publicURL":"/static/0efc7f7b0b5eeea26232de8583ee1aa7/cover.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#084848","images":{"fallback":{"src":"/static/0efc7f7b0b5eeea26232de8583ee1aa7/168f0/cover.jpg","srcSet":"/static/0efc7f7b0b5eeea26232de8583ee1aa7/bb792/cover.jpg 413w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/8e603/cover.jpg 826w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/168f0/cover.jpg 1651w","sizes":"(min-width: 1651px) 1651px, 100vw"},"sources":[{"srcSet":"/static/0efc7f7b0b5eeea26232de8583ee1aa7/5e239/cover.webp 413w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/6abd4/cover.webp 826w,\n/static/0efc7f7b0b5eeea26232de8583ee1aa7/01902/cover.webp 1651w","type":"image/webp","sizes":"(min-width: 1651px) 1651px, 100vw"}]},"width":1651,"height":1100}}},"imageShare":null,"translations":null,"redditPostId":"nmw3eu"}}},"pageContext":{"slug":"vue-js-module-architecture","previous":{"fileAbsolutePath":"/home/runner/work/maxpou.fr/maxpou.fr/content/posts/2018/2018-12-13-scaling-vue-app/scaling-vue-app.md","frontmatter":{"title":"3 Tips for Scaling Large Vue.js Application","slug":"3-tips-scaling-vue-application","tags":["Vue.js","JavaScript"],"language":"en","featured":true,"cover":{"publicURL":"/static/7a5be196061c075fd136106d9c20ae2d/cover.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#484848","images":{"fallback":{"src":"/static/7a5be196061c075fd136106d9c20ae2d/ff239/cover.jpg","srcSet":"/static/7a5be196061c075fd136106d9c20ae2d/57f98/cover.jpg 160w,\n/static/7a5be196061c075fd136106d9c20ae2d/3a868/cover.jpg 320w,\n/static/7a5be196061c075fd136106d9c20ae2d/ff239/cover.jpg 640w","sizes":"(min-width: 640px) 640px, 100vw"},"sources":[{"srcSet":"/static/7a5be196061c075fd136106d9c20ae2d/8c4fc/cover.webp 160w,\n/static/7a5be196061c075fd136106d9c20ae2d/7eacf/cover.webp 320w,\n/static/7a5be196061c075fd136106d9c20ae2d/99e2f/cover.webp 640w","type":"image/webp","sizes":"(min-width: 640px) 640px, 100vw"}]},"width":640,"height":350}}},"unlisted":null},"timeToRead":5,"excerpt":"TLDR; Split your application into completely isolated  modules Consider  micro-frontends  architecture Don't overuse your  Vuex store Tip #â€¦"},"next":{"fileAbsolutePath":"/home/runner/work/maxpou.fr/maxpou.fr/content/posts/2019/2019-10-14-git-under-the-hood/index.md","frontmatter":{"title":"What's happens when you `git commit`","slug":"git-under-the-hood","tags":["Git"],"language":"en","featured":true,"cover":{"publicURL":"/static/ca587ae5a4fe01cfbb8004bcf9929aca/cover.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#082848","images":{"fallback":{"src":"/static/ca587ae5a4fe01cfbb8004bcf9929aca/cb1c0/cover.jpg","srcSet":"/static/ca587ae5a4fe01cfbb8004bcf9929aca/deec6/cover.jpg 157w,\n/static/ca587ae5a4fe01cfbb8004bcf9929aca/011bc/cover.jpg 313w,\n/static/ca587ae5a4fe01cfbb8004bcf9929aca/cb1c0/cover.jpg 626w","sizes":"(min-width: 626px) 626px, 100vw"},"sources":[{"srcSet":"/static/ca587ae5a4fe01cfbb8004bcf9929aca/f6a86/cover.webp 157w,\n/static/ca587ae5a4fe01cfbb8004bcf9929aca/9c435/cover.webp 313w,\n/static/ca587ae5a4fe01cfbb8004bcf9929aca/1b615/cover.webp 626w","type":"image/webp","sizes":"(min-width: 626px) 626px, 100vw"}]},"width":640,"height":399.74440894568687}}},"unlisted":null},"timeToRead":3,"excerpt":"Nowadays, most of our projects use Git as a version control system. It means most of our projects\nhave a  .git  folder. But, have you everâ€¦"}}},"staticQueryHashes":["2709979211"]}