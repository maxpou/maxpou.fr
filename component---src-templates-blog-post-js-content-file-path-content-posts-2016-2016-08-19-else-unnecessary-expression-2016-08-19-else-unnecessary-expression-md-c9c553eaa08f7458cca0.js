"use strict";(self.webpackChunkmaxpou_fr=self.webpackChunkmaxpou_fr||[]).push([[3839],{5938:function(n,a,s){s.r(a),s.d(a,{default:function(){return g}});var t=s(1151),e=s(7294);function p(n){const a=Object.assign({p:"p",strong:"strong",em:"em",blockquote:"blockquote",br:"br",h2:"h2",a:"a",span:"span"},(0,t.ah)(),n.components);return e.createElement(e.Fragment,null,e.createElement(a.p,null,"First time I was using PHP Mess Detector (a PHP Quality Tool), I was very surprise. Because, when I\ntype an ",e.createElement(a.strong,null,"Else expression, it raises an error")," which it said: ",e.createElement(a.em,null,"“An if expression with an else\nbranch is never necessary”"),". What the f***, I have never seen something like this before."),"\n",e.createElement(a.p,null,"Indeed, this principle came from Jeff BAY in ",e.createElement(a.strong,null,"Object Calisthenics"),", an exercise-chapter from the\n",e.createElement(a.strong,null,"The ThoughWorks Anthology")," (written by many well-known programmers like Martin FOWLER). In this\nchapter, Jeff BAY define 9 rules to write better software. ",e.createElement(a.em,null,"Avoid else expression")," is one of them."),"\n",e.createElement(a.blockquote,null,"\n",e.createElement(a.p,null,"Whaaaaaaaaaaaaaaaaaaaaaaaaaaaaaat?!",e.createElement(a.br),"\n","— ",e.createElement(a.strong,null,"one of my colleague")," when I say ‘Else is unnecessary’"),"\n"),"\n",e.createElement(a.h2,{id:"solution-1-reorder-your-code",style:{position:"relative"}},e.createElement(a.a,{href:"#solution-1-reorder-your-code","aria-label":"solution 1 reorder your code permalink",className:"anchor before"},e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Solution 1: reorder your code"),"\n",e.createElement(a.p,null,"Ok, given you have a function like this:"),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>\n<span class="token keyword">function</span> <span class="token function-definition function">getUserDenomination</span><span class="token punctuation">(</span><span class="token class-name type-declaration">User</span> <span class="token variable">$aUser</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$aUser</span><span class="token operator">-></span><span class="token function">getFirstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$aUser</span><span class="token operator">-></span><span class="token function">getLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token variable">$aUser</span><span class="token operator">-></span><span class="token function">getFirstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">.</span><span class="token string double-quoted-string">" "</span><span class="token operator">.</span> <span class="token variable">$aUser</span><span class="token operator">-></span><span class="token function">getLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Unknown user."</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">return</span> <span class="token variable">$name</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></span></code></pre></div>'}}),"\n",e.createElement(a.p,null,"The first step, is to replace ",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">$name</code>'}})," variable by a ",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">return</code>'}})," statement."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>\n<span class="token keyword">function</span> <span class="token function-definition function">getUserDenomination</span><span class="token punctuation">(</span><span class="token class-name type-declaration">User</span> <span class="token variable">$aUser</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$aUser</span><span class="token operator">-></span><span class="token function">getFirstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$aUser</span><span class="token operator">-></span><span class="token function">getLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token variable">$aUser</span><span class="token operator">-></span><span class="token function">getFirstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">.</span><span class="token string double-quoted-string">" "</span><span class="token operator">.</span> <span class="token variable">$aUser</span><span class="token operator">-></span><span class="token function">getLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token string double-quoted-string">"Unknown user."</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></span></code></pre></div>'}}),"\n",e.createElement(a.p,null,"And because, we’re not beasts, we should inverse condition (avoid finish your function with\npseudo-exceptions)."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>\n<span class="token keyword">function</span> <span class="token function-definition function">getUserDenomination</span><span class="token punctuation">(</span><span class="token class-name type-declaration">User</span> <span class="token variable">$aUser</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$aUser</span><span class="token operator">-></span><span class="token function">getFirstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token variable">$aUser</span><span class="token operator">-></span><span class="token function">getLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token string double-quoted-string">"Unknown user."</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- early return</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">return</span> <span class="token variable">$aUser</span><span class="token operator">-></span><span class="token function">getFirstName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">.</span><span class="token string double-quoted-string">" "</span><span class="token operator">.</span> <span class="token variable">$aUser</span><span class="token operator">-></span><span class="token function">getLastName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></span></code></pre></div>'}}),"\n",e.createElement(a.p,null,"And tadaaaa! ",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">else</code>'}})," condition disappears!"),"\n",e.createElement(a.blockquote,null,"\n",e.createElement(a.p,null,"Ok, you’re kind but this example is very easy. Trust me, I write specific code and I can’t drop\nelse! — ",e.createElement(a.strong,null,"one of my colleague")),"\n"),"\n",e.createElement(a.p,null,"That was my colleague response when I talk about this. But you know, every developer write specific\ncode (in 2016, CRUD are generated). If you don’t, I’m sorry for you!",e.createElement(a.br),"\n","So, sometimes it’s difficult to avoid this expression. Most of times, it came from another problem:\n",e.createElement(a.strong,null,"you don’t know design patterns"),"."),"\n",e.createElement(a.h2,{id:"solution-2-state-pattern",style:{position:"relative"}},e.createElement(a.a,{href:"#solution-2-state-pattern","aria-label":"solution 2 state pattern permalink",className:"anchor before"},e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Solution 2: State Pattern"),"\n",e.createElement(a.p,null,"If your code look like this:"),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>\n<span class="token comment">// I want to move my car</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$car</span><span class="token operator">-></span><span class="token function">isStarted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token variable">$car</span><span class="token operator">-></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$car</span><span class="token operator">-></span><span class="token function">isStopped</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Start car first!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$car</span><span class="token operator">-></span><span class="token property">is</span> <span class="token function">moving</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// do nothing</span>\n<span class="token punctuation">}</span></span></code></pre></div>'}}),"\n",e.createElement(a.p,null,"First of all, replace this conditions by a ",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">switch</code>'}})," statement. It’s pretty much the same, but a\nlittle bit more readable.",e.createElement(a.br),"\n","And then, you should use the ",e.createElement(a.strong,null,"State Pattern"),"."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>\n\n<span class="token keyword">class</span> <span class="token class-name-definition class-name">Car</span>\n<span class="token punctuation">{</span>\n    <span class="token comment">// ...</span>\n    <span class="token keyword">private</span> <span class="token variable">$state</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token class-name type-declaration">CarStateInterface</span> <span class="token variable">$state</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token variable">$this</span><span class="token operator">-></span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token variable">$state</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function-definition function">setState</span><span class="token punctuation">(</span><span class="token class-name type-declaration">CarStateInterface</span> <span class="token variable">$state</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token variable">$this</span><span class="token operator">-></span><span class="token property">state</span> <span class="token operator">=</span> <span class="token variable">$state</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">interface</span> <span class="token class-name-definition class-name">CarStateInterface</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n\n<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name-definition class-name">AbstractCarState</span> <span class="token keyword">implements</span> <span class="token class-name">CarStateInterface</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>Exception</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Illegal state transition"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>Exception</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Illegal state transition"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>Exception</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Illegal state transition"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// 1 Class per State</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">class</span> <span class="token class-name-definition class-name">MoveCarState</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractCarState</span>\n<span class="token punctuation">{</span>\n    <span class="token comment">/** @return StopCarState */</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">StopCarState</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">/** @return MoveCarState */</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name-definition class-name">StopCarState</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractCarState</span>\n<span class="token punctuation">{</span>\n    <span class="token comment">/** @return StartCarState */</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">StartCarState</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name-definition class-name">StartCarState</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractCarState</span>\n<span class="token punctuation">{</span>\n    <span class="token comment">/** @return StopCarState */</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">StopCarState</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">/** @return MoveCarState */</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MoveCarState</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></span></code></pre></div>'}}),"\n",e.createElement(a.p,null,"Now I can move my car like this, without switch/else/elseif condition!"),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>\n<span class="token variable">$myTestcar</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token operator">></span><span class="token function">WhateverCarState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token variable">$myTestcar</span><span class="token operator">-></span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre></div>'}}),"\n",e.createElement(a.p,null,e.createElement(a.strong,null,"Nb:")," Instead of creating an AbstractCarState, you can simply implement the CarStateInterface for\nall of your XXXCarState."),"\n",e.createElement(a.h2,{id:"solution-3-strategy-pattern",style:{position:"relative"}},e.createElement(a.a,{href:"#solution-3-strategy-pattern","aria-label":"solution 3 strategy pattern permalink",className:"anchor before"},e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Solution 3: Strategy Pattern"),"\n",e.createElement(a.p,null,"Sometimes, you have to check the object’s instance before doing something."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$mybeer</span><span class="token operator">-></span><span class="token property">type</span> <span class="token operator">==</span> <span class="token string double-quoted-string">"noAlcoholBeer"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token variable">$mybeer</span><span class="token operator">-></span><span class="token function">drinkNoAlcoholBeer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$mybeer</span><span class="token operator">-></span><span class="token property">type</span> <span class="token operator">==</span> <span class="token string double-quoted-string">"strongBeer"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token variable">$mybeer</span><span class="token operator">-></span><span class="token function">drinkStrongBeer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    <span class="token variable">$mybeer</span><span class="token operator">-></span><span class="token function">drinkSoftBeer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></span></code></pre></div>'}}),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>\n<span class="token keyword">interface</span> <span class="token class-name-definition class-name">DrinkBehaviorInterface</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">drink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token comment">//1 class per behavior</span>\n<span class="token keyword">class</span> <span class="token class-name-definition class-name">DrinkNoAlcoholBeer</span> <span class="token keyword">implements</span> <span class="token class-name">DrinkBehaviorInterface</span>\n<span class="token punctuation">{</span>\n    <span class="token comment">/** @return string */</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">drink</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token string double-quoted-string">"Oh it\'s shitty!"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name-definition class-name">DrinkSoftBeer</span> <span class="token keyword">implements</span> <span class="token class-name">DrinkBehaviorInterface</span>\n<span class="token punctuation">{</span>\n    <span class="token comment">/** @return string */</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">drink</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token string double-quoted-string">"I feel dehydrated and I\'m Ok!"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name-definition class-name">DrinkStrongBeer</span> <span class="token keyword">implements</span> <span class="token class-name">DrinkBehaviorInterface</span>\n<span class="token punctuation">{</span>\n    <span class="token comment">/** @return string */</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">drink</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token string double-quoted-string">"Damn, I can\'t drive!"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name-definition class-name">Beer</span>\n<span class="token punctuation">{</span>\n    <span class="token comment">/**  @var DrinkBehaviorInterface */</span>\n    <span class="token keyword">private</span> <span class="token variable">$iBeerBehavior</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token class-name type-declaration">DrinkBehaviorInterface</span> <span class="token variable">$beerBehaviorType</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token variable">$this</span><span class="token operator">-></span><span class="token function">setBeerBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">applyDrink</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-></span><span class="token property">iBeerBehavior</span><span class="token operator">-></span><span class="token function">drink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">setBeerBehavior</span><span class="token punctuation">(</span><span class="token class-name type-declaration">DrinkBehaviorInterface</span> <span class="token variable">$beerBehaviorType</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token variable">$this</span><span class="token operator">-></span><span class="token property">iBeerBehavior</span> <span class="token operator">=</span> <span class="token variable">$beerBehaviorType</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></span></code></pre></div>'}}),"\n",e.createElement(a.p,null,"Now you can use it like this:"),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>\n<span class="token variable">$kwak</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Beer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DrinkStrongBeer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">echo</span> <span class="token variable">$kwak</span><span class="token operator">-></span><span class="token function">applyDrink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Damn, I can\'t drive!</span></span></code></pre></div>'}}),"\n",e.createElement(a.h2,{id:"solution-4-nullobject-pattern",style:{position:"relative"}},e.createElement(a.a,{href:"#solution-4-nullobject-pattern","aria-label":"solution 4 nullobject pattern permalink",className:"anchor before"},e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Solution 4: NullObject Pattern"),"\n",e.createElement(a.p,null,e.createElement(a.em,null,"In this solution, examples come from\n",e.createElement(a.a,{href:"https://github.com/domnikl/DesignPatternsPHP/blob/master/Behavioral/NullObject/Service.php"},"Dominik Liebler Github repository")),e.createElement(a.br),"\n","Sometimes need to check if an object isn’t null before doing something. Like that:"),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">is_null</span><span class="token punctuation">(</span><span class="token variable">$logger</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token variable">$logger</span><span class="token operator">-></span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"banana"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></span></code></pre></div>'}}),"\n",e.createElement(a.p,null,"This is how NullObject Pattern works:"),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>\n\n<span class="token keyword">interface</span> <span class="token class-name-definition class-name">LoggerInterface</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">log</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name-definition class-name">PrintLogger</span> <span class="token keyword">implements</span> <span class="token class-name">LoggerInterface</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">log</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">echo</span> <span class="token variable">$str</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name-definition class-name">NullLogger</span> <span class="token keyword">implements</span> <span class="token class-name">LoggerInterface</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">log</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token comment">// do nothing</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name-definition class-name">Service</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token class-name type-declaration">LoggerInterface</span> <span class="token variable">$log</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token variable">$this</span><span class="token operator">-></span><span class="token property">logger</span> <span class="token operator">=</span> <span class="token variable">$log</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token comment">// no more check "if (!is_null($this->logger))..." with the NullObject pattern</span>\n        <span class="token variable">$this</span><span class="token operator">-></span><span class="token property">logger</span><span class="token operator">-></span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Oh, I\'m doing something!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token comment">// something to do...</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></span></code></pre></div>'}}),"\n",e.createElement(a.p,null,"And this is how does it works:"),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>\n<span class="token variable">$service</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Service</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">NullLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token variable">$service</span><span class="token operator">-></span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//(no output)</span>\n\n<span class="token variable">$service</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Service</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PrintLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token variable">$service</span><span class="token operator">-></span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Oh, I\'m doing something!</span></span></code></pre></div>'}}),"\n",e.createElement(a.p,null,"As far as I’m concerned, I prefer this pattern when he’s combined with patterns like\n",e.createElement(a.a,{href:"https://github.com/maxpou/design-pattern-php/blob/master/DP/NullObject/nullObject.md"},"Factory"),"."),"\n",e.createElement(a.h2,{id:"conclusion",style:{position:"relative"}},e.createElement(a.a,{href:"#conclusion","aria-label":"conclusion permalink",className:"anchor before"},e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Conclusion"),"\n",e.createElement(a.p,null,"I apply this principle every day. And now 90% of my if blocks, does not contain any else expression!\n(yeah, I am lazy sometime ;-)). Most of time, the first solution is the solution. Take care,\nsometimes too much design patterns lead your application to ",e.createElement(a.strong,null,"overengineering"),". First, make sure\nit’s relevant and remember: ",e.createElement(a.strong,null,"pragmatism over theory"),"."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 333px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAgABBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAey0RWR//8QAGRABAAIDAAAAAAAAAAAAAAAAAQARAgMQ/9oACAEBAAEFAnYCZS+VKJ//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAXEAADAQAAAAAAAAAAAAAAAAAQIDFB/9oACAEBAAY/ApEwf//EABoQAQEBAQADAAAAAAAAAAAAAAEAESFBUWH/2gAIAQEAAT8hUGvaBIDd3xk96E+V/9oADAMBAAIAAwAAABAAz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQADAQEBAAAAAAAAAAAAAAEAESExUWH/2gAIAQEAAT8QI623XIIWt0ryE3dfHIjo7OlbN+gcRmytr9Z//9k=\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/fca5d1f6d7b900621d6a3f7d3a544d69/cbe2e/overengineering.webp 148w,\n/static/fca5d1f6d7b900621d6a3f7d3a544d69/3084c/overengineering.webp 295w,\n/static/fca5d1f6d7b900621d6a3f7d3a544d69/f885a/overengineering.webp 333w"\n              sizes="(max-width: 333px) 100vw, 333px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/fca5d1f6d7b900621d6a3f7d3a544d69/a80bd/overengineering.jpg 148w,\n/static/fca5d1f6d7b900621d6a3f7d3a544d69/1c91a/overengineering.jpg 295w,\n/static/fca5d1f6d7b900621d6a3f7d3a544d69/77c11/overengineering.jpg 333w"\n            sizes="(max-width: 333px) 100vw, 333px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/fca5d1f6d7b900621d6a3f7d3a544d69/77c11/overengineering.jpg"\n            alt="overengineering"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",e.createElement(a.p,null,"Oh, by the way, I implement this patterns\n",e.createElement(a.a,{href:"https://github.com/maxpou/design-pattern-php"},"in a Github repository"),". You can take a look, it’s\nfully tested!"))}var o=function(n){void 0===n&&(n={});const{wrapper:a}=Object.assign({},(0,t.ah)(),n.components);return a?e.createElement(a,n,e.createElement(p,n)):p(n)},c=s(4222),l=s(418),i=s(4529),r=s(7953),u=s(4849),k=s(5536),d=s(2404);function m(n){let{data:a,pageContext:s,children:t,location:p}=n;const o=a.post,{previous:m,next:g}=s;return e.createElement(c.Z,{location:p},e.createElement(k.Z,{title:o.frontmatter.title,description:o.frontmatter.description||o.excerpt,cover:o.frontmatter.cover&&o.frontmatter.cover.publicURL,imageShare:o.frontmatter.imageShare&&o.frontmatter.imageShare.publicURL,lang:o.frontmatter.language,translations:o.frontmatter.translations,path:o.frontmatter.slug,isBlogPost:!0}),e.createElement(i.Z,{heroImg:o.frontmatter.cover,title:o.frontmatter.title}),e.createElement(l.Z,null,e.createElement(r.Z,{post:o},t)),e.createElement(l.Z,{as:"aside"},e.createElement(d.Z,{slug:o.frontmatter.slug,title:o.frontmatter.title,redditPostId:o.frontmatter.redditPostId})),e.createElement(u.Z,{previous:m,next:g}))}function g(n){return e.createElement(m,n,e.createElement(o,n))}}}]);
//# sourceMappingURL=component---src-templates-blog-post-js-content-file-path-content-posts-2016-2016-08-19-else-unnecessary-expression-2016-08-19-else-unnecessary-expression-md-c9c553eaa08f7458cca0.js.map