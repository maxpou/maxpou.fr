"use strict";(self.webpackChunkmaxpou_fr=self.webpackChunkmaxpou_fr||[]).push([[3920],{4989:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var a=t(1151),s=t(7294);function o(e){const n=Object.assign({p:"p",em:"em",h2:"h2",a:"a",span:"span",ul:"ul",li:"li",strong:"strong",blockquote:"blockquote",br:"br"},(0,a.ah)(),e.components);return s.createElement(s.Fragment,null,s.createElement(n.p,null,s.createElement(n.em,null,"Edit 25/05/2020: The title of this article has been edited.")),"\n",s.createElement(n.p,null,"The company I’m working for recently set a code coverage rule requirement. Although I believe tests\nimprove the software quality and help developers to write code with confidence, I’m strongly against\nthis coverage rules. I believe this metric should never be used as a target. But first, let’s\nunderstand how code coverage works under the hood."),"\n",s.createElement(n.p,null,s.createElement(n.em,null,"This article is intended for web application testing. Not for a library (open source or not).")),"\n",s.createElement(n.h2,{id:"how-code-coverage-is-generated",style:{position:"relative"}},s.createElement(n.a,{href:"#how-code-coverage-is-generated","aria-label":"how code coverage is generated permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"How Code Coverage is generated"),"\n",s.createElement(n.p,null,"Let’s take the following code:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// do something with \'a\'.</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    <span class="token comment">// do something else.</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"will be rewriten as:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  cov_2mofekog2n<span class="token punctuation">.</span>f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">++</span>\n  cov_2mofekog2n<span class="token punctuation">.</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">++</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// do something with \'a\'.</span>\n    cov_2mofekog2n<span class="token punctuation">.</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">++</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    <span class="token comment">// do something else.</span>\n    cov_2mofekog2n<span class="token punctuation">.</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">++</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"A global counter object ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">cov_2mofekog2n</code>'}})," is created for this file. This object’s have key that stand\nfor:"),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">f</code>'}}),": function;"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">s</code>'}}),": statement. Note: the else belongs to the if statement. That’s why we have only one statement\nhere."),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">b</code>'}}),": branch. Note that branch 0 have 2 counter (because if and else are 2 different branches)"),"\n"),"\n",s.createElement(n.p,null,"As\n",s.createElement(n.a,{href:"https://blog.npmjs.org/post/178487845610/rethinking-javascript-test-coverage"},"Benjamin Coe mentioned"),",\nthis way of measuring the coverage changed had now. Code coverage is now computed on Node V8’s side.\nBut, the idea of a global counter remains the same."),"\n",s.createElement(n.p,null,"Now we have seen how this metric is computed, let’s see why we shouldn’t use it as a target."),"\n",s.createElement(n.h2,{id:"reason-1-covered-code--tested-code",style:{position:"relative"}},s.createElement(n.a,{href:"#reason-1-covered-code--tested-code","aria-label":"reason 1 covered code  tested code permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Reason #1: Covered code !== tested code"),"\n",s.createElement(n.p,null,"We can take the previous code example and add the following test."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// foo.test.js</span>\n<span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">\'./foo.js\'</span>\n\n<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">\'Foo.js\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">\'should do something\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>\n    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Now, if you run ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">npm run test -- --coverage</code>'}}),", you will get… 100% code coverage. In other words:\n",s.createElement(n.strong,null,"You don’t need any assertion to cover code"),"."),"\n",s.createElement(n.p,null,"The example itself might sound ridiculous because dev usually don’t write empty functions or tests\nlike that. Ok."),"\n",s.createElement(n.p,null,"Let’s take a more realistic example."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// shop.spec.js</span>\n<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">\'Shop\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">\'should render the component\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">mount</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Shop <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> products <span class="token punctuation">}</span><span class="token punctuation">)</span>\n    <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Our products</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"With a test like this, it’s super easy to get high coverage. However, this test doesn’t test\nanything related on how the product itself is rendered."),"\n",s.createElement(n.p,null,s.createElement(n.strong,null,"Code coverage doesn’t give any indication of what is actually tested.")),"\n",s.createElement(n.h2,{id:"reason-2-dev-focus-on-coverage-instead-of-confidence",style:{position:"relative"}},s.createElement(n.a,{href:"#reason-2-dev-focus-on-coverage-instead-of-confidence","aria-label":"reason 2 dev focus on coverage instead of confidence permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Reason #2: Dev focus on coverage instead of confidence"),"\n",s.createElement(n.p,null,"If I continue with the shop example. We still have one test that tests almost nothing (but covers a\nlot!). When I get the code coverage report, it says that one scenario is not tested: when one\nproduct is available."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">getPageTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>products<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span>\n    <span class="token operator">?</span> <span class="token string">\'Our product\'</span>\n    <span class="token operator">:</span> <span class="token string">\'Our products\'</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"According to you, what is the next step now?"),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,"Add a test to cover this untested function? (with a low impact)"),"\n",s.createElement(n.li,null,"or reinforce tests on parts that are already covered but not tested? (with a high impact)"),"\n"),"\n",s.createElement(n.p,null,"If you are in a company with a xx% code coverage requirement, you will be more inclined to “cover”\ncode to bump the score."),"\n",s.createElement(n.p,null,"We were supposed to ",s.createElement(n.strong,null,"write tests for confidence"),". Confidence to ship code that works as expected.\nAnd we ends up writing tests for metrics. A nonsense!"),"\n",s.createElement(n.p,null,"Also, if you have a xx% code coverage policy, it means you’re expecting the same level of test\nacross the whole application. ",s.createElement(n.strong,null,"Do you think that a hidden settings page and a main feature deserves\nthe same attention?")),"\n",s.createElement(n.h2,{id:"reason-3-high-code-coverage--high-quality-of-tests",style:{position:"relative"}},s.createElement(n.a,{href:"#reason-3-high-code-coverage--high-quality-of-tests","aria-label":"reason 3 high code coverage  high quality of tests permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Reason #3: High code coverage !== high quality of tests"),"\n",s.createElement(n.blockquote,null,"\n",s.createElement(n.p,null,"“When a measure becomes a target, it ceases to be a good measure”",s.createElement(n.br),"\n","－ Goodhart’s law"),"\n"),"\n",s.createElement(n.p,null,"In one of my previous experiences, I was granted as a tech lead. I thought it could be a good idea\nto set a 100% code coverage policy. I thought it was something good to enforce the code quality. I\nwas pretty proud to have a 100%cc and keep it over the time. And one day I got disillusioned when I\nwent through the code base."),"\n",s.createElement(n.p,null,"Some dev didn’t write code for confidence but to make the CI build green. As we saw before, if you\nunderstand how code coverage works, it’s super easy to trump this metric."),"\n",s.createElement(n.p,null,"Here are a few example of low quality tests:"),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,"\n",s.createElement(n.p,null,"a dev couldn’t test an ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">if</code>'}})," statement. So he updated the code to trump the coverage and get the\n100%."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token parameter">something<span class="token punctuation">,</span> unitTest <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// code</span>\n\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>weirdAndHardToTestCondition <span class="token operator">||</span> unitTest<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// code</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> whatever\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n"),"\n",s.createElement(n.li,null,"\n",s.createElement(n.p,null,s.createElement(n.a,{href:"/10-tips-write-better-tests#8---avoid-implementation-detail"},"implementation detail")," a.k.a. tests\nthat result with false positives and false negatives. You have a lot of them when you search for\nreact/vue components on GitHub;"),"\n"),"\n",s.createElement(n.li,null,"\n",s.createElement(n.p,null,"reducing code readability when code cannot be tested. Less lines of code === less uncovered\npercentage. You can also write more verbose code on the covered part to gain even more percent."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// given generatePdf() is hard to test...</span>\n<span class="token keyword">const</span> filename <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>lastname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.pdf</span><span class="token template-punctuation string">`</span></span>\n<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">formatData</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>data<span class="token punctuation">)</span>\n<span class="token keyword">const</span> <span class="token constant">PDF</span> <span class="token operator">=</span> <span class="token function">generatePdf</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> data<span class="token punctuation">)</span>\n\n<span class="token comment">// now become</span>\n<span class="token keyword">const</span> <span class="token constant">PDF</span> <span class="token operator">=</span> <span class="token function">generatePdf</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>lastname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.pdf</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token function">formatData</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>'}}),"\n"),"\n",s.createElement(n.li,null,"\n",s.createElement(n.p,null,"and the cherry on top: a developper extended the testing framework to test private methods. That\nspicy one was in PHP (with the reflection method)."),"\n"),"\n"),"\n",s.createElement(n.h2,{id:"not-all-code-need-to-be-tested",style:{position:"relative"}},s.createElement(n.a,{href:"#not-all-code-need-to-be-tested","aria-label":"not all code need to be tested permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Not all code need to be tested"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 70.27027027027026%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABPklEQVR42q2UW2+DMAyF+f9/ka6CPTA6CANydRJ0KnNvu7JW2sMJkpN8Oo5tEu89Qgjg738o4UUIAXLuhQs0y8OHuMlvhhJ2VxQFrLUHThcQ78cpZuUk08OT3YAxRlRVdQCcQSGCrAapGiS/Qfpn1RtAmkDOgFQFkjXIqeOUtdbI8xxE9OjKe5AWI8yTebj8a1HarsPp43QHi/DkQP0FZLrZSbgtyjOglBJZlm0O+bJVoL7cufobtAK7rsP5fJ6AYQDZHiTL+f3Cy6AV6JzDV1HA0dQKXEG/Fofeb2yuci0akG4RdY0QB8QQwfFFXH3WPnavHXBAWXyivWRQWkNJBaVuZYwBd8N9fBE/G7fdPCkRbVONvShEM47hXhxP03ScpqZ53OdYWZYjmLNIpp/D81T4EHeCI/f0zDAM61BcAaiFQyJfuAL/AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/bfc12f3617f047675d430fe3f7f4cec3/cbe2e/effort.webp 148w,\n/static/bfc12f3617f047675d430fe3f7f4cec3/3084c/effort.webp 295w,\n/static/bfc12f3617f047675d430fe3f7f4cec3/5ca24/effort.webp 590w,\n/static/bfc12f3617f047675d430fe3f7f4cec3/7fcbc/effort.webp 796w"\n              sizes="(max-width: 590px) 100vw, 590px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/bfc12f3617f047675d430fe3f7f4cec3/12f09/effort.png 148w,\n/static/bfc12f3617f047675d430fe3f7f4cec3/e4a3f/effort.png 295w,\n/static/bfc12f3617f047675d430fe3f7f4cec3/fcda8/effort.png 590w,\n/static/bfc12f3617f047675d430fe3f7f4cec3/d48f1/effort.png 796w"\n            sizes="(max-width: 590px) 100vw, 590px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/bfc12f3617f047675d430fe3f7f4cec3/fcda8/effort.png"\n            alt="code coverage evolution vs effort"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.p,null,"Before giving my ",s.createElement(n.a,{href:"/speaking/#talks"},"talk about Frontend Testing"),", I asked developers why they don’t\ntest. Without any surprises, most of them told me: ",s.createElement(n.em,null,"“we don’t have time to test”"),". When I asked my\nmaker friends, I heard the same song."),"\n",s.createElement(n.p,null,"Writing tests cost time. Therefore money."),"\n",s.createElement(n.p,null,"Sometimes the amount of time invested on writing tests does not pay off. Because of the time\nconsuming aspect or because devs are flooded by too many tests."),"\n",s.createElement(n.p,null,"That’s more or less what Kent C. Dodds explains in his famous post\n",s.createElement(n.a,{href:"https://kentcdodds.com/blog/write-tests"},"Write tests. Not too many. Mostly integration.")),"\n",s.createElement(n.h2,{id:"wrapping-up-should-we-throw-out-the-baby-with-the-bathwater",style:{position:"relative"}},s.createElement(n.a,{href:"#wrapping-up-should-we-throw-out-the-baby-with-the-bathwater","aria-label":"wrapping up should we throw out the baby with the bathwater permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Wrapping up: should we throw out the baby with the bathwater?"),"\n",s.createElement(n.p,null,"Of course not!"),"\n",s.createElement(n.p,null,"Sometimes, ",s.createElement(n.em,null,"but not always"),", Code Coverage can help to highlight untested parts of an application.\nBut it’s just a metric. So please, use it as a metric, as a tool to help you to take the right\ndecision. Not the opposite. And stop writing ",s.createElement(n.em,null,"Coverage-Driven Test™️")," 🙏"),"\n",s.createElement(n.p,null,s.createElement(n.strong,null,"Using a metric as a target is a bad idea"),"."),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,"Evaluate developers velocity with number of commit / day and they will add 30 commits per pull\nrequest;"),"\n",s.createElement(n.li,null,"Evaluate a team velocity based on the number of lines and they will abuse from auto generated\ncode;"),"\n",s.createElement(n.li,null,"Evaluate a code quality with the usage of design pattern/code complexity and we will ends up with\nover complicated code (you can have a look at the famous\n",s.createElement(n.a,{href:"https://github.com/EnterpriseQualityCoding/FizzBuzzEnterpriseEdition"},"FizzBuzzEnterpriseEdition repository"),")"),"\n",s.createElement(n.li,null,"Evaluate a code quality with code coverage and you will ends up with all the things I mentioned\nbefore."),"\n",s.createElement(n.li,null,"Etc."),"\n"))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?s.createElement(n,e,s.createElement(o,e)):o(e)},p=t(4222),l=t(418),r=t(4529),i=t(7953),u=t(4849),d=t(5536),h=t(2404);function m(e){let{data:n,pageContext:t,children:a,location:o}=e;const c=n.post,{previous:m,next:g}=t;return s.createElement(p.Z,{location:o},s.createElement(d.Z,{title:c.frontmatter.title,description:c.frontmatter.description||c.excerpt,cover:c.frontmatter.cover&&c.frontmatter.cover.publicURL,imageShare:c.frontmatter.imageShare&&c.frontmatter.imageShare.publicURL,lang:c.frontmatter.language,translations:c.frontmatter.translations,path:c.frontmatter.slug,isBlogPost:!0}),s.createElement(r.Z,{heroImg:c.frontmatter.cover,title:c.frontmatter.title}),s.createElement(l.Z,null,s.createElement(i.Z,{post:c},a)),s.createElement(l.Z,{as:"aside"},s.createElement(h.Z,{slug:c.frontmatter.slug,title:c.frontmatter.title,redditPostId:c.frontmatter.redditPostId})),s.createElement(u.Z,{previous:m,next:g}))}function g(e){return s.createElement(m,e,s.createElement(c,e))}}}]);
//# sourceMappingURL=component---src-templates-blog-post-js-content-file-path-content-posts-2020-2020-05-04-code-coverage-index-md-e9be6f7cd75d21c6a646.js.map