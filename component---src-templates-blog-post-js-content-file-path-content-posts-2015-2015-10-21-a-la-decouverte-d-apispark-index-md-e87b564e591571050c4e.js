"use strict";(self.webpackChunkmaxpou_fr=self.webpackChunkmaxpou_fr||[]).push([[3107],{7897:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var a=n(1151),r=n(7294);function s(e){const t=Object.assign({p:"p",a:"a",em:"em",blockquote:"blockquote",br:"br",ul:"ul",li:"li",strong:"strong",h2:"h2",span:"span",img:"img",h3:"h3"},(0,a.ah)(),e.components);return r.createElement(r.Fragment,null,r.createElement(t.p,null,r.createElement(t.a,{href:"#points-forts"},"TL;DR")),"\n",r.createElement(t.p,null,"J’ai découvert cet outil suite à la présentation de ",r.createElement(t.a,{href:"https://twitter.com/jplegoff"},"@jplegoff")," lors\nd’un instant technique chez Conserto. ",r.createElement(t.a,{href:"http://restlet.com/products/apispark/"},"APISpark")," est une\nplateforme ",r.createElement(t.em,null,"as a service")," créé par Restlet, permettant à n’importe qui de fournir en toute\nsimplicité une Web API. En plus de fournir des Web API APISpark vous propose de la consommer et de\nla documenter."),"\n",r.createElement(t.p,null,"Maintenant, je vous vois venir : qui dit produit ",r.createElement(t.em,null,"as a service"),", dit monétisation. Avec un compte\nFREE, ",r.createElement(t.a,{href:"http://restlet.com/products/apispark/#pricing"},"voici ce que vous avez"),"."),"\n",r.createElement(t.p,null,"Personnellement, je trouve ça amplement suffisant pour un projet perso ou un petit projet."),"\n",r.createElement(t.blockquote,null,"\n",r.createElement(t.p,null,"Comment tout cela fonctionne ?"),"\n"),"\n",r.createElement(t.p,null,"Il faudra tout d’abord passer par l’interface web. Connectez-vous avec votre compte Github,\nGoogle,…",r.createElement(t.br),"\n","Une fois connecté, on vous propose trois types de cellules :"),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,r.createElement(t.strong,null,"File Store")," : Permet de créer un système de stockage de fichier pour y stocker vos données (je\nn’ai pas testé cette partie) ;"),"\n",r.createElement(t.li,null,r.createElement(t.strong,null,"Entity Store")," : Permet de stocker des données structurées ;"),"\n",r.createElement(t.li,null,r.createElement(t.strong,null,"Web Api")," : Permet de manager son api (exposer les données, documenter)."),"\n"),"\n",r.createElement(t.h2,{id:"créer-une-web-api-from-scratch-avec-un-entity-store",style:{position:"relative"}},r.createElement(t.a,{href:"#cr%C3%A9er-une-web-api-from-scratch-avec-un-entity-store","aria-label":"créer une web api from scratch avec un entity store permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Créer une Web API from scratch avec un Entity Store"),"\n",r.createElement(t.p,null,"Pour bien commencer, il faut créer un Entity Store (avec des entités et des propriétés).",r.createElement(t.br),"\n","Après quelques minutes de bidouillage, voici ce que j’obtiens :"),"\n",r.createElement(t.img,{src:"/2e1729a317c3e6e898161e7184db4b7f/entityStore.png",alt:"Entity Store"}),"\n",r.createElement(t.p,null,"Rien de bien compliqué, je voulais juste créer deux entités reliées par une relation de type 1-1.\nUne fois que tout semble bon, il faut à déployer le tout. Et si par malheur vous voulez revenir à un\nétat précédent, vous pouvez le faire via l’onglet Backups.",r.createElement(t.br),"\n","Il est possible de consulter et d’ajouter des ressources via l’écran Browser (il faut préalablement\navoir cliqué sur une entité)."),"\n",r.createElement(t.img,{src:"/104c6540d3f8d32c8be3f6277b811dd8/crud-grid.png",alt:"CRUD grid"}),"\n",r.createElement(t.p,null,"Constat rapide : l’interface est vraiment simple d’utilisation, on est bien guidé. Par contre dès\nque l’on fait une modification, il faut bien penser à cliquer sur le bouton Deploy. Sinon les\npropriétés ajoutées n’apparaitront pas dans l’écran browser."),"\n",r.createElement(t.p,null,"Maintenant, il ne reste plus qu’à construire la Web API ! Après avoir donné un petit nom à votre Web\nAPI, déterminé le point d’entrée et bien… presque tout est terminé !",r.createElement(t.br),"\n","Si vous voulez PIMPER l’API, sachez qu’il est possible de gérer les permissions (qui a le droit de\nfaire un POST, PUT, …), le ",r.createElement("abbr",{title:"Time To Live"},"TTL")," du cache, le filtre d’IP (liste\nblanche/noire), la révision…"),"\n",r.createElement(t.p,null,"Tout est prêt, vous pouvez maintenant requêter votre API !"),"\n",r.createElement(t.p,null,"Dans Overview > Ressources > [la méthode de votre choix], vous aurez quelques exemples de requêtes\ndans différents langages (Shell, Node, Java, Python, PHP, …).",r.createElement(t.br),"\n","Voici un exemple avec cURL :"),"\n",r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">--request</span> POST <span class="token punctuation">\\</span>\n  <span class="token parameter variable">--url</span> https://maxpou-test1.apispark.net/v1/contacts/ <span class="token punctuation">\\</span>\n  <span class="token parameter variable">--header</span> <span class="token string">\'accept: application/json\'</span> <span class="token punctuation">\\</span>\n  <span class="token parameter variable">--header</span> <span class="token string">\'authorization: Basic &lt;yourAuthenticationKey>\'</span> <span class="token punctuation">\\</span>\n  <span class="token parameter variable">--header</span> <span class="token string">\'content-type: application/json\'</span> <span class="token punctuation">\\</span>\n  <span class="token parameter variable">--header</span> <span class="token string">\'host: maxpou-test1.apispark.net\'</span> <span class="token punctuation">\\</span>\n  <span class="token parameter variable">--data</span> <span class="token string">\'{"firstName":"R2-D2","lastName":"","sex":"dd9bd7e1-635b-11e5-8997-49a8ffa9b046"}\'</span></code></pre></div>'}}),"\n",r.createElement(t.p,null,"Cerise sur le gâteau, l’API est auto-documentée avec ",r.createElement(t.a,{href:"http://swagger.io/"},"SwaggerUI")," !\n",r.createElement(t.img,{src:"/ae71ef8eabf927e85b406a1adfcff4c4/swagger.png",alt:"swagger"})),"\n",r.createElement(t.h2,{id:"déployez-votre-api-à-partir-dun-entity-store-de-type-google-spreadsheet-",style:{position:"relative"}},r.createElement(t.a,{href:"#d%C3%A9ployez-votre-api-%C3%A0-partir-dun-entity-store-de-type-google-spreadsheet-","aria-label":"déployez votre api à partir dun entity store de type google spreadsheet  permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Déployez votre API à partir d’un entity store de type Google Spreadsheet !"),"\n",r.createElement(t.p,null,"Une autre feature assez intéressante est la possibilité de créer une WebAPI à partir d’un document\nGoogle Spreadsheet (équivalent Google de Microsoft Excel).",r.createElement(t.br),"\n","Cette fonctionnalité a été rendue possible, car le tableur de chez Google dispose d’une\n",r.createElement(t.a,{href:"https://developers.google.com/google-apps/spreadsheets/index"},"API"),". Il faut toutefois disposer des\ndroits nécessaires (",r.createElement(t.em,null,"i.e.")," donner à APISpark un accès ",r.createElement(t.em,null,"hors connexion")," à vos documents).",r.createElement(t.br),"\n","Pour tester cette fonctionnalité, je me suis créé un tableur sur mon drive que j’ai rempli avec des\ndonnées factices ",r.createElement(t.em,null,"(Pardonnez mon manque d’originalité pour cet exemple !)"),"."),"\n",r.createElement(t.img,{src:"/d37c857df2a0b547deacb9d4269315e9/google-spreadsheet.png",alt:"google spreadsheet"}),"\n",r.createElement(t.p,null,"Ensuite, je l’ai relié à mon entity store et j’ai adapté les champs en fonction de mes besoins. Par\ndéfaut, tous les champs sont des String et la première colonne est considérée comme l’identifiant de\nl’entité."),"\n",r.createElement(t.img,{src:"/5b236d02155e60937c7f16bdac232de3/entityStoreGoogle.png",alt:"entity store Google"}),"\n",r.createElement(t.p,null,"Pour accéder à ces données, il faudra ensuite retourner dans le dashboard de l’application pour\ncréer une WebAPI utilisant cet entity store (comme vu précédemment)."),"\n",r.createElement(t.p,null,"Et voilà, quelques minutes, je viens de transformer mon tableur en une source de données pour une\nWebAPI :-)"),"\n",r.createElement(t.h2,{id:"points-forts",style:{position:"relative"}},r.createElement(t.a,{href:"#points-forts","aria-label":"points forts permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Points forts"),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"Créer une WebAPI en ",r.createElement(t.strong,null,"quelques minutes")," via une interface simple et intuitive"),"\n",r.createElement(t.li,null,"Possibilités offertes par l’offre free"),"\n",r.createElement(t.li,null,"Quantité et qualité de la documentation du produit (tutoriels, guide utilisateur, screencasts…)"),"\n",r.createElement(t.li,null,"API auto-documentée avec Swagger"),"\n",r.createElement(t.li,null,"La possibilité de filtrer nativement sur une propriété d’une ressource (ex : GET\nhttps://maxpou-test1.apispark.net:443/v1/contacts/?firstName=luke)"),"\n",r.createElement(t.li,null,"Partie Analytics (temps de réponse moyen, répartition des réponses, répartition des méthodes)"),"\n"),"\n",r.createElement(t.h2,{id:"limites",style:{position:"relative"}},r.createElement(t.a,{href:"#limites","aria-label":"limites permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Limites"),"\n",r.createElement(t.h3,{id:"méthodes-patch-absente",style:{position:"relative"}},r.createElement(t.a,{href:"#m%C3%A9thodes-patch-absente","aria-label":"méthodes patch absente permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Méthodes PATCH absente"),"\n",r.createElement(t.p,null,"La modification partielle d’une ressource via la méthode PATCH n’est pas gérée. Si vous souhaitez\nmodifier une ressource existante, il faudra passer par méthode PUT et lui passer la ressource\nentière, conformément aux ",r.createElement(t.a,{href:"https://www.maxpou.fr/rest-crud/"},"bonnes pratiques REST"),"."),"\n",r.createElement(t.h3,{id:"hateoas",style:{position:"relative"}},r.createElement(t.a,{href:"#hateoas","aria-label":"hateoas permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"HATEOAS"),"\n",r.createElement(t.blockquote,null,"\n",r.createElement(t.p,null,"“REST API’s must be hypertext driven” - Roy T. Fieldling"),"\n"),"\n",r.createElement(t.p,null,"Il faudra attendre une version future de la plateforme pour atteindre le saint graal d’une API REST\net faire plaisir au papa de REST :’-("),"\n",r.createElement(t.h2,{id:"conclusion",style:{position:"relative"}},r.createElement(t.a,{href:"#conclusion","aria-label":"conclusion permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Conclusion"),"\n",r.createElement(t.p,null,"APISpark est une plateforme très intéressante qui mérite le détour. Quelques fonctionnalités sont\n(ou semblent) absentes, mais les principales sont là."),"\n",r.createElement(t.p,null,"Je suis actuellement en train d’apprendre la ",r.createElement("abbr",{title:"MongoDB ExpressJS AngularJS NodeJS"},"stack\nMEAN"),". J’ai choisi d’utiliser APISpark comme source de données et le résultat est plutôt\nsatisfaisant. Le code source se trouve\n",r.createElement(t.a,{href:"https://github.com/maxpou/mean-apispark-beer"},"sur mon répo Github (voir Step 2)"),"."),"\n",r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 190px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACzklEQVR42r1UbUhTYRg9c25G1yyiRBoWOj+WiktEyQottO+CyMySpCgwkGSxHGHCVkl/DEyKylGQ9GFxM0IK+1NN1Kaglk4tNOfc/Jibd7pdZ5rl3riyQEVz+cMDF973vc8973k45z7AMoK3wBqEEJ5HDIsVznzvKel0EZ/PTxYIEMmt06a3OARAxO1pmua3tbUJF2ViGMbP4nQGEEK8AHBPEqASUhQVKRQKw7ga46A92MSMXui2ssovJka0oFLucGBkQt7POEtMQyOKMUJE5Tc3nlNfj7U30VIzo9mQMkFImHHQ/lhvYTWdZralST90DVig7RrdQGxHv72q28JqDVZnTfm76srM4zvYEqWYpKcmkRv5x/ROtv9FZ5+jxWBxNHRZRrUN3y1XNRrDCrei2cSaZlOUrod5bhxyftKbHbUV7+ua048mTtzOE5MHBVLyuvQE22Oz19tGSZ2RGdO2Goffatv7UhZsmaYJv7q1N/Nr30il3jzc2Gker1XfV3bThUGkUi0h+Rkhv4ouKnqLS5/pq+p0de3mH2mcOf80hXOuSmfc3WUZU5dVfGyWZR8YzzgcSNL2h7jqaQmxFeybVJ6SdezMy93O1TdmZQnm5nMWVCoV5yxiE2Ilq/3D730oS31q0UgJq90y9equ1HUkMZ5cDhP/1Jw+e2a+sM/rtDsyHKIpyvfNtrggsjlU5FqzPtj1qHAr+bYnbMqQkExsObIWq1xxkixG+vdWHx8fMcDfWygPL7pzJZx8roj+zb6MIdbIKEdfUGiVaVfKE6tMLv+f/5jvDjdu5QacL84PLLwULzlIQuIjuIh4omwupskoCv4AFABiAGQBWMd1QUdECIlK5e2pslUAVgOIAzDC4+Ghnx/EPEDtBUwCyAbABdoXHijllFEAVgJIAJDjHgqbAKx1X8INDR8AQiyhdQ7e7g8FSyWY6Th/njPeck55/AEO/UCUso1LYwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/61f718ae09ae77a10797c8e19100ffa2/cbe2e/logo.webp 148w,\n/static/61f718ae09ae77a10797c8e19100ffa2/15813/logo.webp 190w"\n              sizes="(max-width: 190px) 100vw, 190px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/61f718ae09ae77a10797c8e19100ffa2/12f09/logo.png 148w,\n/static/61f718ae09ae77a10797c8e19100ffa2/a2d4f/logo.png 190w"\n            sizes="(max-width: 190px) 100vw, 190px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/61f718ae09ae77a10797c8e19100ffa2/a2d4f/logo.png"\n            alt="logo"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}))}var l=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,a.ah)(),e.components);return t?r.createElement(t,e,r.createElement(s,e)):s(e)},o=n(4222),i=n(418),c=n(4529),u=n(7953),p=n(4849),m=n(5536),d=n(2404);function h(e){let{data:t,pageContext:n,children:a,location:s}=e;const l=t.post,{previous:h,next:f}=n;return r.createElement(o.Z,{location:s},r.createElement(m.Z,{title:l.frontmatter.title,description:l.frontmatter.description||l.excerpt,cover:l.frontmatter.cover&&l.frontmatter.cover.publicURL,imageShare:l.frontmatter.imageShare&&l.frontmatter.imageShare.publicURL,lang:l.frontmatter.language,translations:l.frontmatter.translations,path:l.frontmatter.slug,isBlogPost:!0}),r.createElement(c.Z,{heroImg:l.frontmatter.cover,title:l.frontmatter.title}),r.createElement(i.Z,null,r.createElement(u.Z,{post:l},a)),r.createElement(i.Z,{as:"aside"},r.createElement(d.Z,{slug:l.frontmatter.slug,title:l.frontmatter.title,redditPostId:l.frontmatter.redditPostId})),r.createElement(p.Z,{previous:h,next:f}))}function f(e){return r.createElement(h,e,r.createElement(l,e))}}}]);
//# sourceMappingURL=component---src-templates-blog-post-js-content-file-path-content-posts-2015-2015-10-21-a-la-decouverte-d-apispark-index-md-e87b564e591571050c4e.js.map