import{k as s,l as i,g as h,w as m,T as v}from"./preact.module.BQoSJtqD.js";import{p as N,_ as $}from"./hooks.module.DMkgs7du.js";function R(e,r){for(var t in r)e[t]=r[t];return e}function g(e,r){for(var t in e)if(t!=="__source"&&!(t in r))return!0;for(var o in r)if(o!=="__source"&&e[o]!==r[o])return!0;return!1}function y(e,r){this.props=e,this.context=r}(y.prototype=new s).isPureReactComponent=!0,y.prototype.shouldComponentUpdate=function(e,r){return g(this.props,e)||g(this.state,r)};var b=i.__b;i.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),b&&b(e)};var U=i.__e;i.__e=function(e,r,t,o){if(e.then){for(var _,n=r;n=n.__;)if((_=n.__c)&&_.__c)return r.__e==null&&(r.__e=t.__e,r.__k=t.__k),_.__c(e,r)}U(e,r,t,o)};var k=i.unmount;function E(e,r,t){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(o){typeof o.__c=="function"&&o.__c()}),e.__c.__H=null),(e=R({},e)).__c!=null&&(e.__c.__P===t&&(e.__c.__P=r),e.__c=null),e.__k=e.__k&&e.__k.map(function(o){return E(o,r,t)})),e}function T(e,r,t){return e&&t&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(o){return T(o,r,t)}),e.__c&&e.__c.__P===r&&(e.__e&&t.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=t)),e}function d(){this.__u=0,this.t=null,this.__b=null}function x(e){var r=e.__.__c;return r&&r.__a&&r.__a(e)}function f(){this.u=null,this.o=null}i.unmount=function(e){var r=e.__c;r&&r.__R&&r.__R(),r&&32&e.__u&&(e.type=null),k&&k(e)},(d.prototype=new s).__c=function(e,r){var t=r.__c,o=this;o.t==null&&(o.t=[]),o.t.push(t);var _=x(o.__v),n=!1,a=function(){n||(n=!0,t.__R=null,_?_(l):l())};t.__R=a;var l=function(){if(!--o.__u){if(o.state.__a){var u=o.state.__a;o.__v.__k[0]=T(u,u.__c.__P,u.__c.__O)}var c;for(o.setState({__a:o.__b=null});c=o.t.pop();)c.forceUpdate()}};o.__u++||32&r.__u||o.setState({__a:o.__b=o.__v.__k[0]}),e.then(a,a)},d.prototype.componentWillUnmount=function(){this.t=[]},d.prototype.render=function(e,r){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=E(this.__b,t,o.__O=o.__P)}this.__b=null}var _=r.__a&&h(m,null,e.fallback);return _&&(_.__u&=-33),[h(m,null,r.__a?null:e.children),_]};var w=function(e,r,t){if(++t[1]===t[0]&&e.o.delete(r),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(t=e.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;e.u=t=t[2]}};(f.prototype=new s).__a=function(e){var r=this,t=x(r.__v),o=r.o.get(e);return o[0]++,function(_){var n=function(){r.props.revealOrder?(o.push(_),w(r,e,o)):_()};t?t(n):n()}},f.prototype.render=function(e){this.u=null,this.o=new Map;var r=v(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&r.reverse();for(var t=r.length;t--;)this.o.set(r[t],this.u=[1,0,this.u]);return e.children},f.prototype.componentDidUpdate=f.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(r,t){w(e,t,r)})};var A=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,L=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,I=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,M=/[A-Z0-9]/g,V=typeof document<"u",W=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};s.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(s.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(r){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:r})}})});var P=i.event;function H(){}function D(){return this.cancelBubble}function j(){return this.defaultPrevented}i.event=function(e){return P&&(e=P(e)),e.persist=H,e.isPropagationStopped=D,e.isDefaultPrevented=j,e.nativeEvent=e};var z={enumerable:!1,configurable:!0,get:function(){return this.class}},C=i.vnode;i.vnode=function(e){typeof e.type=="string"&&function(r){var t=r.props,o=r.type,_={};for(var n in t){var a=t[n];if(!(n==="value"&&"defaultValue"in t&&a==null||V&&n==="children"&&o==="noscript"||n==="class"||n==="className")){var l=n.toLowerCase();n==="defaultValue"&&"value"in t&&t.value==null?n="value":n==="download"&&a===!0?a="":l==="translate"&&a==="no"?a=!1:l==="ondoubleclick"?n="ondblclick":l!=="onchange"||o!=="input"&&o!=="textarea"||W(t.type)?l==="onfocus"?n="onfocusin":l==="onblur"?n="onfocusout":I.test(n)?n=l:o.indexOf("-")===-1&&L.test(n)?n=n.replace(M,"-$&").toLowerCase():a===null&&(a=void 0):l=n="oninput",l==="oninput"&&_[n=l]&&(n="oninputCapture"),_[n]=a}}o=="select"&&_.multiple&&Array.isArray(_.value)&&(_.value=v(t.children).forEach(function(u){u.props.selected=_.value.indexOf(u.props.value)!=-1})),o=="select"&&_.defaultValue!=null&&(_.value=v(t.children).forEach(function(u){u.props.selected=_.multiple?_.defaultValue.indexOf(u.props.value)!=-1:_.defaultValue==u.props.value})),t.class&&!t.className?(_.class=t.class,Object.defineProperty(_,"className",z)):(t.className&&!t.class||t.class&&t.className)&&(_.class=_.className=t.className),r.props=_}(e),e.$$typeof=A,C&&C(e)};var S=i.__r;i.__r=function(e){S&&S(e),e.__c};var O=i.diffed;i.diffed=function(e){O&&O(e);var r=e.props,t=e.__e;t!=null&&e.type==="textarea"&&"value"in r&&r.value!==t.value&&(t.value=r.value==null?"":r.value)};const B={src:"/_astro/moon.CKir338b.svg",width:24,height:24,format:"svg"},Z={src:"/_astro/sun.ChWlf1L4.svg",width:24,height:24,format:"svg"};var F=0;function p(e,r,t,o,_,n){var a,l,u={};for(l in r)l=="ref"?a=r[l]:u[l]=r[l];var c={type:e,props:u,key:t,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--F,__i:-1,__u:0,__source:_,__self:n};if(typeof e=="function"&&(a=e.defaultProps))for(l in a)u[l]===void 0&&(u[l]=a[l]);return i.vnode&&i.vnode(c),c}function Q({className:e,textOnly:r=!1}){const[t,o]=N(window.localStorage.getItem("theme")??"light"),_=()=>{const n=t==="light"?"dark":"light";o(n),typeof plausible<"u"&&plausible("darkModeClick",{props:{theme:n}})};return $(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),window.localStorage.setItem("theme",t)},[t]),p("button",{type:"button",className:`px-2 py-4 ${e}`,onClick:_,"aria-label":`Activate ${t==="light"?"dark":"light"} mode`,children:[r&&p("span",{children:`Toggle ${t==="light"?"dark":"light"} mode`}),t==="light"&&!r&&p("img",{src:B.src,alt:"moon",style:"filter: invert(100%) contrast(50%);",class:"hover:animate-spin"}),t==="dark"&&!r&&p("img",{src:Z.src,alt:"sun",class:"hover:animate-spin"})]})}export{Q as default};
