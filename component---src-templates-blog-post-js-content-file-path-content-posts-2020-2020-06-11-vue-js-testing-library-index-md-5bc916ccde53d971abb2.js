"use strict";(self.webpackChunkmaxpou_fr=self.webpackChunkmaxpou_fr||[]).push([[1764],{7073:function(n,e,a){a.r(e),a.d(e,{default:function(){return k}});var t=a(1151),s=a(7294);function o(n){const e=Object.assign({p:"p",a:"a",blockquote:"blockquote",span:"span",em:"em",strong:"strong",h2:"h2",br:"br",ul:"ul",li:"li",ol:"ol",h3:"h3",hr:"hr"},(0,t.ah)(),n.components);return s.createElement(s.Fragment,null,s.createElement(e.p,null,"Today, I want to talk about testing in the Vue.js ecosystem. Between my previous job and my current\none, I‚Äôve been searching for too long a way to test Vue.js applications. I always ended up with\nsomething too verbose or overcomplicated."),"\n",s.createElement(e.p,null,"1.5 year ago, my colleague John introduced me to a very cool library:\n",s.createElement(e.a,{href:"https://github.com/testing-library/vue-testing-library"},"Vue Testing Library"),". In a nutshell, it\nprovides a solution to test Vue.js applications‚Ä¶ but from a user point of view. Their motto? This\none:"),"\n",s.createElement(e.blockquote,null,"\n",s.createElement(e.p,null,"The more your tests resemble the way your software is used, the more confidence they can give you."),"\n",s.createElement(e.p,null,"Ôºç ",s.createElement(e.a,{href:"https://kentcdodds.com"},"Kent C. Dodds"),", author of Testing Library"),"\n"),"\n",s.createElement(e.p,null,"We were already using the official library: vue-test-utils. It provides good results for unit\ntesting components. But, we were not completely convinced by the integration tests. In addition, I\ndon‚Äôt think unit testing components bring much value. We decided to give a try."),"\n",s.createElement(e.p,null,"After a year of using it, a colleague he threw this question on the Frontend chat:"),"\n",s.createElement(e.p,null,s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 20.945945945945947%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAxUlEQVR42o2Py0rEQBBF8/cKrgb/Qkb0I/wAdSOjzKQf6U4vHEimkzbpmBzpElxbcLj1oIpb1c3VNbe7HcErXl+eORze6bqOvu+Z55lpmkRzzr/M+S9flkW0zAvrulLt9w883t9hP56oj28cTzXWWJxztG2LqhWucVJ771FKYYyhaRpCCNLXWkuvHK8AUvrC+UBjNVornPOyXDDaiOOUkhBjFMZxJI1JdBgGoUT1vUKeIvF8InWW82fgcoliv7xU2LaN/8YPLBgtVqDwPGUAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/b9e118297b37e8500e8df2a5f0603ba5/cbe2e/poll.webp 148w,\n/static/b9e118297b37e8500e8df2a5f0603ba5/3084c/poll.webp 295w,\n/static/b9e118297b37e8500e8df2a5f0603ba5/5ca24/poll.webp 590w,\n/static/b9e118297b37e8500e8df2a5f0603ba5/dad35/poll.webp 885w,\n/static/b9e118297b37e8500e8df2a5f0603ba5/2baf0/poll.webp 1180w,\n/static/b9e118297b37e8500e8df2a5f0603ba5/e19c7/poll.webp 1250w"\n              sizes="(max-width: 590px) 100vw, 590px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/b9e118297b37e8500e8df2a5f0603ba5/12f09/poll.png 148w,\n/static/b9e118297b37e8500e8df2a5f0603ba5/e4a3f/poll.png 295w,\n/static/b9e118297b37e8500e8df2a5f0603ba5/fcda8/poll.png 590w,\n/static/b9e118297b37e8500e8df2a5f0603ba5/efc66/poll.png 885w,\n/static/b9e118297b37e8500e8df2a5f0603ba5/c83ae/poll.png 1180w,\n/static/b9e118297b37e8500e8df2a5f0603ba5/f09ab/poll.png 1250w"\n            sizes="(max-width: 590px) 100vw, 590px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/b9e118297b37e8500e8df2a5f0603ba5/fcda8/poll.png"\n            alt="Poll: should we use testing library only"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}})," ",s.createElement(e.em,null,"(actually the only üëé is due to a\nmisunderstanding)")),"\n",s.createElement(e.p,null,"Why do we all like it? Because it provides an ",s.createElement(e.strong,null,"easy")," and ",s.createElement(e.strong,null,"straightforward")," way to test our\nVue.js Application."),"\n",s.createElement(e.p,null,"Ok, enough talking. Let‚Äôs jump to the code :)"),"\n",s.createElement(e.h2,{id:"lets-get-it-started",style:{position:"relative"}},s.createElement(e.a,{href:"#lets-get-it-started","aria-label":"lets get it started permalink",className:"anchor before"},s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Let‚Äôs get it started!"),"\n",s.createElement(e.p,null,"For this article, I‚Äôll take a small app I created."),"\n",s.createElement(e.p,null,"üëâ A demo is available here:\n",s.createElement(e.a,{href:"https://vue-testing-library.netlify.app/#/"},"vue-testing-library.netlify.app"),s.createElement(e.br),"\n","üëâ Code is here:\n",s.createElement(e.a,{href:"https://github.com/maxpou/vue-testing-library-sample"},"github.com/maxpou/vue-testing-library-sample")),"\n",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 41.891891891891895%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABeUlEQVR42k2Q647TMBBG8/7/KRfxFGxBvAcIsdvSbNuQNlensR2nvh0Ub7uLpbE9n89oPF/29aPn2yfP98+R9YfAwyrw8O7lXL+PfLnd73mK1Ru3XsUUdyaL0eO9xTlLCJ77ijHgvSPGeMtjYpIWwiu31Pxfly2bUortZkfTdEk0xrDfH3h6/ENZljhrmRbt+UieHxjEwNLHe09ZnjidzoQQWPpkeoS2dBx3gtNBIzu4tJH9RvD7x1/2mwHZw1DH9H7cDYlX4kUr8pEivyCqiLOQzRNIAZfOMfaBaSTF2AVE45AiMsk3bWgd+gJGgRoifW0RtUWJiHe3kRdfimOBVPLVL9ELqnONkipp1hrqpk6c0mNi7NVSVw1d26eRk4fL10+5Y/Oz5fCkEOfFU40QInkzDANaGpoi8Pw4sv3VUmxnxt6htKKqatq2RUqVPM3cNXI1AaMts/a4OeKtT91nM+OsQ+sJLS3z5DHKYs3CBLxzzOaaWO98+uU/xUddUnMCRrYAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/483f27c05946407b52ceb4bb638b8a01/cbe2e/app.webp 148w,\n/static/483f27c05946407b52ceb4bb638b8a01/3084c/app.webp 295w,\n/static/483f27c05946407b52ceb4bb638b8a01/5ca24/app.webp 590w,\n/static/483f27c05946407b52ceb4bb638b8a01/dad35/app.webp 885w,\n/static/483f27c05946407b52ceb4bb638b8a01/2baf0/app.webp 1180w,\n/static/483f27c05946407b52ceb4bb638b8a01/aa402/app.webp 2568w"\n              sizes="(max-width: 590px) 100vw, 590px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/483f27c05946407b52ceb4bb638b8a01/12f09/app.png 148w,\n/static/483f27c05946407b52ceb4bb638b8a01/e4a3f/app.png 295w,\n/static/483f27c05946407b52ceb4bb638b8a01/fcda8/app.png 590w,\n/static/483f27c05946407b52ceb4bb638b8a01/efc66/app.png 885w,\n/static/483f27c05946407b52ceb4bb638b8a01/c83ae/app.png 1180w,\n/static/483f27c05946407b52ceb4bb638b8a01/98a4d/app.png 2568w"\n            sizes="(max-width: 590px) 100vw, 590px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/483f27c05946407b52ceb4bb638b8a01/fcda8/app.png"\n            alt="app screenshot"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(e.p,null,"The application features are quite basic:"),"\n",s.createElement(e.ul,null,"\n",s.createElement(e.li,null,"fetch products from the Star Wars API and print it to the screen;"),"\n",s.createElement(e.li,null,"filter products by name when user type something in the textbox;"),"\n",s.createElement(e.li,null,"add product in the basket;"),"\n",s.createElement(e.li,null,"~~buy products.~~ Sorry. I‚Äôm Max, not Elon Musk. I can‚Äôt sell starships üòÅ"),"\n"),"\n",s.createElement(e.p,null,"This application is heavily based on vue-cli (including jest+vue-test-utils). Actually, Vue Testing\nLibrary ",s.createElement(e.strong,null,"acts as a wrapper for vue-test-utils"),". You can add the library like this:"),"\n",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev @testing-library/vue @testing-library/jest-dom</code></pre></div>'}}),"\n",s.createElement(e.p,null,s.createElement(e.a,{href:"https://github.com/testing-library/jest-dom"},"Jest-dom")," is not mandatory. But I recommend you to\ninstall it as it provides some very handy matchers for Jest."),"\n",s.createElement(e.h2,{id:"our-first-test",style:{position:"relative"}},s.createElement(e.a,{href:"#our-first-test","aria-label":"our first test permalink",className:"anchor before"},s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Our first test"),"\n",s.createElement(e.p,null,"The first thing I want to test is the presence of starships on the screen!"),"\n",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// tests/unit/catalog.spec.js</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> render<span class="token punctuation">,</span> screen <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'@testing-library/vue\'</span>\n\n<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">\'should show products name, detail and price\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>\n\n  screen<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">\'Executor\'</span><span class="token punctuation">)</span>\n  screen<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">\'Kuat Drive Yards, Fondor Shipyards\'</span><span class="token punctuation">)</span>\n  screen<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">\'$1,143,350,000.00\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>'}}),"\n",s.createElement(e.p,null,"You can now run ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">npm test</code>'}}),"."),"\n",s.createElement(e.p,null,"üí• Boom! It‚Äôs done!"),"\n",s.createElement(e.ol,null,"\n",s.createElement(e.li,null,s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">render(App)</code>'}}),": this is where we instantiate the component."),"\n",s.createElement(e.li,null,s.createElement(e.span,{dangerouslySetInnerHTML:{__html:"<code class=\"language-text\">screen.getByText('Executor')</code>"}}),": we search for the ",s.createElement(e.em,null,"‚ÄúExecutor‚Äù")," occurrence in the mounted\ncomponent. If this value is not found, an error will be thrown. This value must be unique!"),"\n"),"\n",s.createElement(e.p,null,"Also, you probably realised that you don‚Äôt need to do any specific configuration!"),"\n",s.createElement(e.p,null,"Note: the API calls are ",s.createElement(e.a,{href:"/jest-mock-axios-calls"},"mocked with Jest"),"."),"\n",s.createElement(e.h2,{id:"interacting-with-the-page-click-keypress",style:{position:"relative"}},s.createElement(e.a,{href:"#interacting-with-the-page-click-keypress","aria-label":"interacting with the page click keypress permalink",className:"anchor before"},s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Interacting with the page (click, keypress‚Ä¶)"),"\n",s.createElement(e.p,null,"Now I want to test a user interaction. The spaceship filtering is a good candidate. Let‚Äôs test the\nfollowing scenario: if the user types ",s.createElement(e.em,null,"‚Äúwing‚Äù"),", we should only see ",s.createElement(e.em,null,"‚ÄúX-wing‚Äù")," and ",s.createElement(e.em,null,"‚ÄúY-wing‚Äù"),"."),"\n",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">\'should filter products when user type on the textbox\'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">await</span> <span class="token function">render</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>\n<span class="gatsby-highlight-code-line">  <span class="token keyword">await</span> fireEvent<span class="token punctuation">.</span><span class="token function">change</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getByLabelText</span><span class="token punctuation">(</span><span class="token string">\'Filter results\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">\'wing\'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>\n  <span class="token function">expect</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">queryByText</span><span class="token punctuation">(</span><span class="token string">\'Death Star\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBeInTheDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token function">expect</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">\'X-wing\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeInTheDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token function">expect</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">\'Y-wing\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeInTheDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>'}}),"\n",s.createElement(e.h3,{id:"fireevent",style:{position:"relative"}},s.createElement(e.a,{href:"#fireevent","aria-label":"fireevent permalink",className:"anchor before"},s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"fireEvent()"),"\n",s.createElement(e.p,null,"To write text in an input text, we use ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">fireEvent.change(selector, options)</code>'}}),". If we wanted to\n‚Äúclick‚Äù on something, we would use instead ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">fireEvent.click()</code>'}}),". Keep in mind, ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">fireEvent</code>'}})," returns a\npromise, don‚Äôt forget the await statement before."),"\n",s.createElement(e.h3,{id:"querybytext-vs-getbytext",style:{position:"relative"}},s.createElement(e.a,{href:"#querybytext-vs-getbytext","aria-label":"querybytext vs getbytext permalink",className:"anchor before"},s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"queryByText() vs. getByText()"),"\n",s.createElement(e.p,null,"When you want to test a missing text, ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">queryByText</code>'}})," is the prefered way. Remember, ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">getByText</code>'}}),"\nthrows an error when the text is not present!"),"\n",s.createElement(e.p,null,"I mentioned before, I use Jest-dom. To extend Jest‚Äôs ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">expect()</code>'}})," function, you need to register it on\nthe config files\n(",s.createElement(e.a,{href:"https://github.com/maxpou/vue-testing-library-sample/blob/master/jest.config.js#L6-L8"},"like this"),")."),"\n",s.createElement(e.h2,{id:"testing-the-router-with-vue-router",style:{position:"relative"}},s.createElement(e.a,{href:"#testing-the-router-with-vue-router","aria-label":"testing the router with vue router permalink",className:"anchor before"},s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Testing the router (with vue-router)"),"\n",s.createElement(e.p,null,"Usually, Vue.js components are not aware of the router. We have to provide the routes to the render\nfunction."),"\n",s.createElement(e.p,null,"We could define the routes on every test‚Ä¶ but I don‚Äôt like to write the same code multiple times.\nInstead, I recommend you to overload Testing Library‚Äôs ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">render()</code>'}})," function with our defined routes."),"\n",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// tests/render.js</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> render <span class="token keyword">as</span> r <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'@testing-library/vue\'</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> routes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'../src/router\'</span>\n\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">ui</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token function">r</span><span class="token punctuation">(</span>ui<span class="token punctuation">,</span> <span class="token punctuation">{</span> routes <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",s.createElement(e.p,null,"If I want to test something with a page transition, my test will look like the previous tests."),"\n",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'../render\'</span>\n\n<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">\'basket should be empty\'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">await</span> <span class="token function">render</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>\n<span class="gatsby-highlight-code-line">  <span class="token keyword">await</span> fireEvent<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">\'Basket\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>\n  <span class="token keyword">await</span> screen<span class="token punctuation">.</span><span class="token function">findByText</span><span class="token punctuation">(</span><span class="token string">\'Your basket is empty!\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>'}}),"\n",s.createElement(e.p,null,"You probably noticed the ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">findByText()</code>'}}),". I could not use ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">getByText()</code>'}})," because new page rendering is\nasynchronous. ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">findByXXX</code>'}})," is good when you want to find something that is not accessible straight\naway."),"\n",s.createElement(e.h2,{id:"testing-the-store-with-vuex",style:{position:"relative"}},s.createElement(e.a,{href:"#testing-the-store-with-vuex","aria-label":"testing the store with vuex permalink",className:"anchor before"},s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Testing the store (with Vuex)"),"\n",s.createElement(e.p,null,"This part is a little bit trickier than the router part."),"\n",s.createElement(e.p,null,"To work properly, a Vuex store needs to be registered somewhere."),"\n",s.createElement(e.p,null,"The painless way I found to test components with a store, was to split it into 2 separate functions.\nYour tests will use ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">getDefaultStore()</code>'}})," and your app will use the Vuex instance (2nd export)."),"\n",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// src/store/index.js</span>\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getDefaultStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token comment">/* ... */</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token comment">/* ... */</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token function">getDefaultStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>'}}),"\n",s.createElement(e.p,null,"After that, you can override Testing Library‚Äôs ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">render()</code>'}})," function with your custom stuff."),"\n",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// tests/render.js</span>\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">ui</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">getDefaultStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n  <span class="token comment">// reset/override default store here</span>\n  store<span class="token punctuation">.</span>modules<span class="token punctuation">.</span>basket<span class="token punctuation">.</span>state<span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n  store<span class="token punctuation">.</span>modules<span class="token punctuation">.</span>catalog<span class="token punctuation">.</span>state<span class="token punctuation">.</span>starships <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n  store<span class="token punctuation">.</span>modules<span class="token punctuation">.</span>catalog<span class="token punctuation">.</span>state<span class="token punctuation">.</span>currentPage <span class="token operator">=</span> <span class="token number">0</span>\n  store<span class="token punctuation">.</span>modules<span class="token punctuation">.</span>catalog<span class="token punctuation">.</span>state<span class="token punctuation">.</span>fullyLoaded <span class="token operator">=</span> <span class="token boolean">false</span>\n\n  <span class="token keyword">return</span> <span class="token function">r</span><span class="token punctuation">(</span>ui<span class="token punctuation">,</span> <span class="token punctuation">{</span> store <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",s.createElement(e.p,null,"You might wonder why I‚Äôm cleaning the store with multiple ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">store.modules.xxxx</code>'}}),"? Well, I want my test\nto ",s.createElement(e.a,{href:"/10-tips-write-better-tests#2---isolate-your-tests"},"be fully isolated"),". It‚Äôs not an easy job\nsince Vuex is based on mutations. Without these lines, you may have problems where test #3 depends\non test #2."),"\n",s.createElement(e.p,null,"Once it‚Äôs done, you don‚Äôt need to do anything specific. Vuex test should look like any other test,"),"\n",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">\'should add items to basket\'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">await</span> <span class="token function">render</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>\n\n  <span class="token keyword">await</span> fireEvent<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getByLabelText</span><span class="token punctuation">(</span><span class="token string">\'Add Millennium Falcon\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n  <span class="token keyword">await</span> fireEvent<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getByLabelText</span><span class="token punctuation">(</span><span class="token string">\'Add Imperial shuttle\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n  <span class="token keyword">await</span> fireEvent<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getByLabelText</span><span class="token punctuation">(</span><span class="token string">\'Add Imperial shuttle\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\n  <span class="token function">expect</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">\'navigation\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveTextContent</span><span class="token punctuation">(</span><span class="token string">\'Basket (3)\'</span><span class="token punctuation">)</span>\n  <span class="token keyword">await</span> fireEvent<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>screen<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">\'Basket (3)\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>'}}),"\n",s.createElement(e.p,null,"See! It doesn‚Äôt look like I‚Äôm testing a store üôÇ"),"\n",s.createElement(e.h2,{id:"one-render-function-to-rule-them-all",style:{position:"relative"}},s.createElement(e.a,{href:"#one-render-function-to-rule-them-all","aria-label":"one render function to rule them all permalink",className:"anchor before"},s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"One render function to rule them all!"),"\n",s.createElement(e.p,null,"Let‚Äôs sum up. We created a custom wrapper for the vue-router and another one for Vuex. I could post\na render function like this:"),"\n",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// test/render.js</span>\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">ui</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">getDefaultStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token comment">// store overrides...</span>\n\n  <span class="token keyword">return</span> <span class="token function">r</span><span class="token punctuation">(</span>ui<span class="token punctuation">,</span> <span class="token punctuation">{</span> routes<span class="token punctuation">,</span> store <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",s.createElement(e.p,null,"‚Ä¶but, it‚Äôs a little bit too ",s.createElement(e.em,null,"‚Äúhello world‚Äù")," for me. I guess you also use some cool Vue.js related\nlibraries (VueI18n, VeeValidate‚Ä¶)? Here‚Äôs good news for you. This is the wrapper I use for ~90% of\nmy tests:"),"\n",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">ui<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">store</span><span class="token operator">:</span> storeOverrides <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token function">r</span><span class="token punctuation">(</span>\n    ui<span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      routes<span class="token punctuation">,</span>\n      <span class="token literal-property property">store</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token function">getDefaultStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">...</span>storeOverrides <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">(</span><span class="token parameter">vue<span class="token punctuation">,</span> store<span class="token punctuation">,</span> router</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n      vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueI18n<span class="token punctuation">)</span>\n      vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VeeValidate<span class="token punctuation">)</span>\n      <span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueI18n</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        <span class="token literal-property property">locale</span><span class="token operator">:</span> <span class="token string">\'en\'</span><span class="token punctuation">,</span>\n        <span class="token literal-property property">messages</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">en</span><span class="token operator">:</span> messages <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token literal-property property">silentTranslationWarn</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span>\n      <span class="token keyword">return</span> <span class="token punctuation">{</span> i18n<span class="token punctuation">,</span> router <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",s.createElement(e.p,null,"The ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">storeOverrides</code>'}})," parameter allows you to override a part of the store for a specific test (i.e.\ntesting functionality with a different user)."),"\n",s.createElement(e.h2,{id:"the-quest-for-the-perfect-query",style:{position:"relative"}},s.createElement(e.a,{href:"#the-quest-for-the-perfect-query","aria-label":"the quest for the perfect query permalink",className:"anchor before"},s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"The quest for the perfect query"),"\n",s.createElement(e.p,null,"In the beginning, finding the perfect query to use can be hazardous. In this blog post, we already\nsaw a few. If you‚Äôre lost, don‚Äôt worry. ",s.createElement(e.strong,null,s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">getByText()</code>'}})," and ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">queryByText()</code>'}})," cover the most common\nusages"),". Once you‚Äôre comfortable with them, feel free to check these resources."),"\n",s.createElement(e.ul,null,"\n",s.createElement(e.li,null,s.createElement(e.a,{href:"https://testing-library.com/docs/guide-which-query"},"testing-library.com/docs/guide-which-query"),":\nthe official documentation;"),"\n",s.createElement(e.li,null,s.createElement(e.a,{href:"https://testing-playground.com/"},"testing-playground.com"),": you can copy/paste your HTML and they\nwill tell you which query is the most appropriate."),"\n"),"\n",s.createElement(e.p,null,"Also, when you hesitate, ",s.createElement(e.strong,null,"think about your users"),". How do they interact with your app? For a login\nfeature, do you want them to:"),"\n",s.createElement(e.ul,null,"\n",s.createElement(e.li,null,"fill their credentials in a textbox with a ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">class="form form-password"</code>'}}),"?"),"\n",s.createElement(e.li,null,"fill their credentials in a textbox labeled ‚Äúpassword‚Äù?"),"\n"),"\n",s.createElement(e.p,null,"You see? üòâ"),"\n",s.createElement(e.p,null,s.createElement(e.a,{href:"/10-tips-write-better-tests#6---test-your-app-in-the-same-way-as-a-user-will-use-it"},"Think users"),".\nIf you pick the 2nd, you will kill two birds with one stone. You will test the login feature ",s.createElement(e.strong,null,"plus\nyour component accessibility"),"!"),"\n",s.createElement(e.p,null,"üí° ",s.createElement(e.strong,null,"Tip:"),"\n",s.createElement(e.a,{href:"https://github.com/testing-library/eslint-plugin-testing-library"},"eslint-plugin-testing-library")," is\na great addition! It can spot some misused queries."),"\n",s.createElement(e.h2,{id:"debugging",style:{position:"relative"}},s.createElement(e.a,{href:"#debugging","aria-label":"debugging permalink",className:"anchor before"},s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Debugging"),"\n",s.createElement(e.p,null,"Vue Testing Library doesn‚Äôt let you access to component‚Äôs internals. It‚Äôs voluntary. The idea behind\nthis decision is to prevent developers from\n",s.createElement(e.a,{href:"/10-tips-write-better-tests#8---avoid-implementation-detail"},"testing implementation detail"),"."),"\n",s.createElement(e.p,null,"Here‚Äôs what you can do:"),"\n",s.createElement(e.ul,null,"\n",s.createElement(e.li,null,"\n",s.createElement(e.p,null,"add some ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">console.log()</code>'}})," in the lifecycle component (",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">mounted</code>'}}),", ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">updated</code>'}}),"‚Ä¶);"),"\n"),"\n",s.createElement(e.li,null,"\n",s.createElement(e.p,null,"use the ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">debug()</code>'}})," function provided by the library."),"\n",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">\'should test something but it\\\'s not working\'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">await</span> <span class="token function">render</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>\n\n<span class="gatsby-highlight-code-line">  screen<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>  <span class="token comment">// screen.getByText(\'broken assertion\')</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>'}}),"\n",s.createElement(e.p,null,"Then, when you ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">npm test</code>'}}),", component DOM will be printed in the console (with a nice syntax\ncolor)."),"\n"),"\n"),"\n",s.createElement(e.blockquote,null,"\n",s.createElement(e.p,null,"üôãüèΩ‚Äç‚ôÄÔ∏è Help, ",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">debug()</code>'}})," give me a truncated output!"),"\n"),"\n",s.createElement(e.p,null,"You can override the debug max size like this."),"\n",s.createElement(e.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token assign-left variable">DEBUG_PRINT_LIMIT</span><span class="token operator">=</span><span class="token number">100000</span> <span class="token function">npm</span> <span class="token builtin class-name">test</span></code></pre></div>'}}),"\n",s.createElement(e.hr),"\n",s.createElement(e.p,null,"And that‚Äôs it for today! I hope the examples given here will help you to cover the most common use\ncases."),"\n",s.createElement(e.p,null,"Happy testing üôÇ"))}var p=function(n){void 0===n&&(n={});const{wrapper:e}=Object.assign({},(0,t.ah)(),n.components);return e?s.createElement(e,n,s.createElement(o,n)):o(n)},l=a(4222),c=a(418),r=a(4529),i=a(7953),u=a(4849),d=a(5536),g=a(2404);function m(n){let{data:e,pageContext:a,children:t,location:o}=n;const p=e.post,{previous:m,next:k}=a;return s.createElement(l.Z,{location:o},s.createElement(d.Z,{title:p.frontmatter.title,description:p.frontmatter.description||p.excerpt,cover:p.frontmatter.cover&&p.frontmatter.cover.publicURL,imageShare:p.frontmatter.imageShare&&p.frontmatter.imageShare.publicURL,lang:p.frontmatter.language,translations:p.frontmatter.translations,path:p.frontmatter.slug,isBlogPost:!0}),s.createElement(r.Z,{heroImg:p.frontmatter.cover,title:p.frontmatter.title}),s.createElement(c.Z,null,s.createElement(i.Z,{post:p},t)),s.createElement(c.Z,{as:"aside"},s.createElement(g.Z,{slug:p.frontmatter.slug,title:p.frontmatter.title,redditPostId:p.frontmatter.redditPostId})),s.createElement(u.Z,{previous:m,next:k}))}function k(n){return s.createElement(m,n,s.createElement(p,n))}},7953:function(n,e,a){a.d(e,{Z:function(){return k}});var t=a(7294),s=a(5086),o=a(311),p=a(8385),l=a(8259),c=a(8032);const r=s.default.div.withConfig({displayName:"Bio__BioWrapper",componentId:"sc-1t07u8t-0"})(["& .author-image{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;top:-40px;left:50%;margin-left:-40px;width:80px;height:80px;border-radius:100%;overflow:hidden;padding:6px;z-index:2;box-shadow:#ececec 0 0 0 1px;background-color:var(--color-wrapperBackground);}& .author-image img{border-radius:100%;}& .author-profile .author-image{position:relative;left:auto;top:auto;width:120px;height:120px;padding:3px;margin:-100px auto 0 auto;box-shadow:none;}& .followMeWrapper{padding-top:10px;}"]),i=(0,s.default)(o.xv).withConfig({displayName:"Bio__BioText",componentId:"sc-1t07u8t-1"})(["& a{box-shadow:0 2px 0 0 var(--color-secondary);}& a:hover{filter:brightness(150%);box-shadow:none;}"]);var u=()=>{const{authorName:n,authorDescription:e}=(0,l.Z)();return t.createElement(r,null,t.createElement("figure",{className:"author-image"},t.createElement(c.S,{src:"../../content/images/avatar.jpeg",alt:n,__imageData:a(4663)})),t.createElement("section",null,t.createElement("h2",null,"About the author"),t.createElement(i,{dangerouslySetInnerHTML:{__html:e}}),t.createElement("div",{className:"followMeWrapper"},t.createElement(p.Z,null))))},d=a(8297);const g=s.default.article.withConfig({displayName:"Article__ArticleWrapper",componentId:"sc-15webty-0"})(["padding:0 30px 30px;@media only screen and (max-width:500px){padding:0;}"]),m=s.default.footer.withConfig({displayName:"Article__ArticleFooter",componentId:"sc-15webty-1"})(["position:relative;margin:6rem 0 0;padding:3rem 0 0;border-top:1px solid #ececec;"]);var k=function(n){let{post:e,children:a}=n;return t.createElement(g,null,t.createElement(d.Z,{date:e.frontmatter.date,tags:e.frontmatter.tags,translations:e.frontmatter.translations},a),t.createElement(m,null,t.createElement(u,null)))}},6476:function(n,e,a){a.d(e,{Z:function(){return p}});var t=a(7294),s=a(5086);const o=s.default.img.withConfig({displayName:"Flag__FlagImage",componentId:"sc-1ft2x4f-0"})(["padding-right:0.5rem;padding-bottom:0.2rem;"]);var p=function(n){let{language:e}=n;const a="en"===e?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAPASURBVDhPrZT7TxxVFMc/d/Y1wA60gEXwgSU1ViJiJSZqahpqm2jQNlRSHyhRa6wG2kTSpK3v2BptoyRorJi2IaLlF/qyoTU0sRAClDaKRqQ0qShElkJBdpd9z+7seGfQ+A9wkjvn3jnn3Pu93/PNFaY0lsiUf/2SmNATuqm4XYyPTRMOJ3C7nXbAMNLkF2STEw+RXAjjyvYSVDXmZhZwOBYx6HoKrWA5N4dmEZoXMflFi1m4YT2B4jtp2ncKny9IVpZKPK5TXfswlROXmb84RO5DFXQXP8CpYwOoqptoTOeWu4p4uUQn9/pfOJ7dgjJcupZIbz/qd8fZv7+aqk33EgpF5bkmQsivIqwZpviPWpNQIsnjm8p5S7tGocckZ8d2Bn6ZRLnUe5U9v+cSy9QI7H2Xmur7adxbJRHOEgrrSAikg0GIxQlHdK4vJNi5tZSNF9pQn6jC/WQV9fXfcrFvDCUm4fZ3DbPxkxEGVz2C75k6ykWAr1q3k6llkAyESM3NkwyG8OZnc2BdFsUnW1nW/CndvjQVFR/QNzBBTKJlzh8wdcM0o3raDOiWUEzTiEQWJ9Imd71njq5Zb3vbov/H/OGEXWfVW/uI0Z17TPObE5DhwVKcrTqLq/QiR44cDeGRsUQCQ6ITiiJzFhMVyafFq4SFeOEpFKtG98trzAdJ+YMYATmkTwcX7JGamSXpm7K9tTb8AdIyx47JPKvOqk/LzcVky1Ezs6cP0+0mlTSIRHWE1J1wyWEYhAd/InVjDueKfLwPVmDEJQrVIxEpqMLA5XJYgiNWuRZx4tzP5pU/YkQjCQqLNHY8Lwtm5zC+78JdV8vE1m3Mdxwnt6aG4o6j9tXDXd14VAfHnKu52j+CV+qytCQDh4uy95sPHGFqPETrkTpibe0kG17jHXMNpy/N8ljoCoHh31hx3z00/qhwvvMymxs246t/g1u7z/LZjTy+bjqMW3hQIpEYr7xey9i1j1l4cRuJM508V9ZIU8sZ8papiLSFRfIhuc3P1/i8uZ11lQe5/exJbpOkn5s4xJu7X0J3ulD2HXyaw4dqmVp5N9Ml5awaKaWz7bzcIFMOgWIRS8r2dpvJprfnV8nVq/y5YQvZPT/Q0L6btx/NQ8mYGmew4A4u7PqQso+GiYyNoWkSkXBgJPxMy3q/c7ntrbX1X5NiVpQUqwtr+bJjiKzRIcyZScTfwYDpTybxJBPkZMkOWofbJuQrEifqVFFk99Kyi5mpOF6vKmOLGrTABoOyefEkNxUVSipsBS6NLeHjCP8AHa/ubr0bcvgAAAAASUVORK5CYII=":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAKnRFWHRDcmVhdGlvbiBUaW1lAEZyIDkgTm92IDIwMDcgMTY6Mjc6MDYgKzAxMDAM3ZqdAAAAB3RJTUUH1wsJDxwzm8yD2gAAAAlwSFlzAAALEgAACxIB0t1+/AAAAARnQU1BAACxjwv8YQUAAAHdSURBVHjaxVO7btRAFD3zsNdxQIqQqBYk6ghR0tLxDXwCn8HX0BGlo6JCKAqCIlVCkCjQLgkgxbDB67XnlXPHRvsJGWs04/F53ZkxcNtNvXj5arG7uzf3KfJNIUSFh/dn2H9Qc564pABj0Z98hPt6CsVHyzoCrv6tl/bO3Xvzx0+fw0cveugp8ORRjWf7e1lAmi5naKuAHh2QSI4RpQbeHBzOrSfIBQ/vAzWRE8jcDQNCQk4g3TtinMtkEUHfIaxW0OIqa55rMTEYu3xXWm/r1AYZ5AYolqoJ6D4dU1jDCjFkMrskoFukKG2ys56EFEkyC38abE4+w1z/heU3K0Q/OUchp0zNxCCuU+sX37F69xZYt9CmQDHKUYDwQMPIONpo9A5o2gH9ZoPBjwKm5h78/glcs+ayylQtpyOjQFLS2fnovMHrDz9wftEixTACJKY1HFUmZbIk5GM4WkWyI/bg+AJD0CjKAmVhMlFPpchmaWUm4v8+HrElAu/Pmnz+RWmReGmU2QoYmRsRQHYdE2CbYMOaF51HOWNt1iJSoODFqeSd9YlAUe2g4+gVpjI0ZmoUspe/Lpfdqpk7cWH0QN0zVeOwqxnSjJtYVWi/fEO/DlDWZ2chX4W0vO1/EbgBHTnbxGOMU+UAAAAASUVORK5CYII=",s="en"===e?"english post":"post en francais";return t.createElement(o,{src:a,alt:s,className:"flag"})}},8385:function(n,e,a){var t=a(7294),s=a(5086),o=a(8259),p=a(5136);const l=s.default.a.withConfig({displayName:"FollowMe__TwitterButton",componentId:"sc-1w7ya39-0"})(["background-color:#1da1f2;border-color:#1da1f2;color:#fff;font-size:0.9rem;border-radius:3px;padding:10px 20px 10px 25px;font-weight:600;transition:background 0s;&:hover{background-color:#fff;color:#1da1f2;border:1px solid #1da1f2;}& > svg{transform:translateX(-50%) translateY(15%);}"]);e.Z=n=>{let{...e}=n;const{twitterUsername:a}=(0,o.Z)();return t.createElement(l,Object.assign({rel:"noopener",target:"_blank",href:"https://twitter.com/intent/follow?screen_name="+a},e),t.createElement(p.Z,null),"Follow @",a)}},4849:function(n,e,a){var t=a(7294),s=a(8032),o=a(1883),p=a(5086),l=a(8259),c=a(820),r=a(6476),i=a(311);const u=p.default.aside.withConfig({displayName:"PrevNextPost__PreviewContainer",componentId:"sc-qi508c-0"})(["display:flex;flex-wrap:wrap;align-items:center;justify-content:center;max-width:810px;margin:40px auto 0px;"]),d=(0,p.default)(o.Link).withConfig({displayName:"PrevNextPost__PreviewLink",componentId:"sc-qi508c-1"})(["height:100%;display:block;"]),g=p.default.article.withConfig({displayName:"PrevNextPost__Preview",componentId:"sc-qi508c-2"})(["cursor:pointer;flex:1 1 300px;align-self:stretch;background-color:var(--color-secondaryContentBackground);box-shadow:0 0 0 0,0 6px 12px rgba(0,0,0,0.1);margin:20px 20px;border-radius:5px;&:hover{box-shadow:0 0 0 0,0 6px 12px var(--color-grey300);transition:all 0.3s ease;transform:translate3D(0,-1px,0);}"]),m=p.default.div.withConfig({displayName:"PrevNextPost__PreviewCover",componentId:"sc-qi508c-3"})(["& > *{height:200px;border-radius:5px 5px 0 0;}"]),k=p.default.div.withConfig({displayName:"PrevNextPost__PreviewContent",componentId:"sc-qi508c-4"})(["padding:20px;height:calc(100% - 200px);flex-direction:column;flex-grow:inherit;justify-content:space-between;display:flex;header{padding:0 0 10px 0;}section{padding-bottom:10px;}footer{align-items:flex-end;font-size:0.8em;}"]);e.Z=n=>{const{previous:e,next:a}=n,o=[e,a].filter((n=>n)).map((n=>({node:n}))),{defaultLang:p}=(0,l.Z)();return t.createElement(t.Fragment,null,t.createElement(u,null,o.map(((n,e)=>{const{excerpt:a}=n.node,o=n.node.fields.timeToRead.text,{tags:l,cover:u,title:h,slug:f,language:b}=n.node.frontmatter,y=(0,s.c)(u);return t.createElement(g,{key:"prev-next-"+e},t.createElement(d,{to:"/"+f,"aria-label":"View "+h+" article"},t.createElement(m,null,t.createElement(s.G,{image:y,alt:"View "+h+" article"})),t.createElement(k,null,t.createElement("header",null,t.createElement("h2",null,p!==b&&t.createElement(r.Z,{language:b}),h)),t.createElement("section",null,t.createElement("p",null,a)),t.createElement("footer",null,t.createElement(i.OV,{min:o}),Array.isArray(l)&&t.createElement(t.Fragment,null,t.createElement(i.fU,null),t.createElement(c.Z,{tags:l,noLink:!0}))))))}))))}},5136:function(n,e,a){var t=a(7294);e.Z=n=>t.createElement("svg",Object.assign({"aria-label":"Twitter",viewBox:"0 0 24 24",width:"1em",height:"1em"},n),t.createElement("path",{fill:"currentColor",d:"M23.954 4.569a10 10 0 0 1-2.825.775 4.958 4.958 0 0 0 2.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 0 0-8.384 4.482C7.691 8.094 4.066 6.13 1.64 3.161a4.822 4.822 0 0 0-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 0 1-2.228-.616v.061a4.923 4.923 0 0 0 3.946 4.827 4.996 4.996 0 0 1-2.212.085 4.937 4.937 0 0 0 4.604 3.417 9.868 9.868 0 0 1-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 0 0 7.557 2.209c9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63a9.936 9.936 0 0 0 2.46-2.548l-.047-.02z"}))},4663:function(n){n.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/9760e642bf7a05b3ba35950d80435566/37851/avatar.jpg","srcSet":"/static/9760e642bf7a05b3ba35950d80435566/5b1fa/avatar.jpg 115w,\\n/static/9760e642bf7a05b3ba35950d80435566/f0f53/avatar.jpg 230w,\\n/static/9760e642bf7a05b3ba35950d80435566/37851/avatar.jpg 460w","sizes":"(min-width: 460px) 460px, 100vw"},"sources":[{"srcSet":"/static/9760e642bf7a05b3ba35950d80435566/f8466/avatar.webp 115w,\\n/static/9760e642bf7a05b3ba35950d80435566/84992/avatar.webp 230w,\\n/static/9760e642bf7a05b3ba35950d80435566/b5c5b/avatar.webp 460w","type":"image/webp","sizes":"(min-width: 460px) 460px, 100vw"}]},"width":460,"height":460}')}}]);
//# sourceMappingURL=component---src-templates-blog-post-js-content-file-path-content-posts-2020-2020-06-11-vue-js-testing-library-index-md-5bc916ccde53d971abb2.js.map